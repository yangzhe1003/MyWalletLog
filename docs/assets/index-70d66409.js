var Jn=Object.defineProperty;var Kn=(n,t,e)=>t in n?Jn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var wt=(n,t,e)=>(Kn(n,typeof t!="symbol"?t+"":t,e),e),bt=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var g=(n,t,e)=>(bt(n,t,"read from private field"),e?e.call(n):t.get(n)),xe=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},it=(n,t,e,r)=>(bt(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var E=(n,t,e)=>(bt(n,t,"access private method"),e);import{r as d,_ as An,a as dt,b as fe,u as Et,c as tt,d as ke,e as Se,C as qn,P as Qn,w as er,f as M,g as In,K as Gt,h as Ke,R as Be,D as tr,i as nr,A as Ge,j as rr,T as Ye,m as Wt,k as ar,l as or,n as ir,t as sr,o as cr,p as lr,L as dr,q as ur,s as zn,v as ut,x as Jt,E as En,y as fr,z as De,B as $t,F as Bt,G as Pn,H as ye,I as u,J as Pt,M as Dt,N as et,O as ze,Q as Nt,S as xt,U as kt,V as Dn,W as Kt,X as St,Y as mr,Z as gr,$ as pr,a0 as qt,a1 as Qt,a2 as hr,a3 as vr,a4 as yr,a5 as wr,a6 as br,a7 as xr,a8 as kr,a9 as Le,aa as Sr,ab as Cr,ac as Ar}from"./index-194426f9.js";import{u as Nn}from"./useTranslation-4f7b6d23.js";import{d as st}from"./deleteData-b029f507.js";var Ir=["visible","onVisibleChange","getContainer","current","countRender","onChange"],Ft=d.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),zr=Ft.Provider;function Ct(n,t){if(t!==void 0){var e=n.indexOf(t);if(e!==-1)return e}}var Er=function(t){var e=t.previewPrefixCls,r=e===void 0?"rc-image-preview":e,a=t.children,o=t.icons,i=o===void 0?{}:o,f=t.preview,m=An(f)==="object"?f:{},y=m.visible,p=y===void 0?void 0:y,w=m.onVisibleChange,h=w===void 0?void 0:w,b=m.getContainer,S=b===void 0?void 0:b,z=m.current,U=z===void 0?0:z,V=m.countRender,oe=V===void 0?void 0:V,H=m.onChange,R=H===void 0?void 0:H,se=dt(m,Ir),N=d.useState(new Map),q=fe(N,2),Q=q[0],O=q[1],Y=Array.from(Q.keys()),ee=d.useRef(),ce=Et(void 0,{onChange:function(v,I){ee.current!==void 0&&(R==null||R(Ct(Y,v),Ct(Y,I))),ee.current=I}}),J=fe(ce,2),L=J[0],$=J[1],_=Et(!!p,{value:p,onChange:function(v,I){h==null||h(v,I,Ct(Y,L)),ee.current=v?L:void 0}}),j=fe(_,2),B=j[0],le=j[1],K=d.useState(null),k=fe(K,2),ie=k[0],T=k[1],c=p!==void 0,l=Y[U],A=new Map(Array.from(Q).filter(function(G){var v=fe(G,2),I=v[1].canPreview;return!!I}).map(function(G){var v=fe(G,2),I=v[0],de=v[1].url;return[I,de]})),X=function(v,I){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,we=function(){O(function(ne){var F=new Map(ne),P=F.delete(v);return P?F:ne})};return O(function(ue){return new Map(ue).set(v,{url:I,canPreview:de})}),we},te=function(v){v.stopPropagation(),le(!1),T(null)};return d.useEffect(function(){$(l)},[l]),d.useEffect(function(){!B&&c&&$(l)},[l,c,B]),d.createElement(zr,{value:{isPreviewGroup:!0,previewUrls:A,setPreviewUrls:O,current:L,setCurrent:$,setShowPreview:le,setMousePosition:T,registerImage:X}},a,d.createElement(_n,tt({"aria-hidden":!B,visible:B,prefixCls:r,onClose:te,mousePosition:ie,src:A.get(L),icons:i,getContainer:S,countRender:oe},se)))},ct=1,lt=50,qe=1,Pr=1,Dr=function(t){var e,r=t.visible,a=t.maskTransitionName,o=t.getContainer,i=t.prefixCls,f=t.rootClassName,m=t.icons,y=t.countRender,p=t.showSwitch,w=t.showProgress,h=t.current,b=t.count,S=t.scale,z=t.onSwitchLeft,U=t.onSwitchRight,V=t.onClose,oe=t.onZoomIn,H=t.onZoomOut,R=t.onRotateRight,se=t.onRotateLeft,N=t.onFlipX,q=t.onFlipY,Q=m.rotateLeft,O=m.rotateRight,Y=m.zoomIn,ee=m.zoomOut,ce=m.close,J=m.left,L=m.right,$=m.flipX,_=m.flipY,j="".concat(i,"-operations-operation"),B="".concat(i,"-operations-icon"),le=[{icon:ce,onClick:V,type:"close"},{icon:Y,onClick:oe,type:"zoomIn",disabled:S===lt},{icon:ee,onClick:H,type:"zoomOut",disabled:S===ct},{icon:O,onClick:R,type:"rotateRight"},{icon:Q,onClick:se,type:"rotateLeft"},{icon:$,onClick:N,type:"flipX"},{icon:_,onClick:q,type:"flipY"}],K=d.createElement(d.Fragment,null,p&&d.createElement(d.Fragment,null,d.createElement("div",{className:ke("".concat(i,"-switch-left"),Se({},"".concat(i,"-switch-left-disabled"),h===0)),onClick:z},J),d.createElement("div",{className:ke("".concat(i,"-switch-right"),Se({},"".concat(i,"-switch-right-disabled"),h===b-1)),onClick:U},L)),d.createElement("ul",{className:"".concat(i,"-operations")},w&&d.createElement("li",{className:"".concat(i,"-operations-progress")},(e=y==null?void 0:y(h+1,b))!==null&&e!==void 0?e:"".concat(h+1," / ").concat(b)),le.map(function(k){var ie,T=k.icon,c=k.onClick,l=k.type,A=k.disabled;return d.createElement("li",{className:ke(j,(ie={},Se(ie,"".concat(i,"-operations-operation-").concat(l),!0),Se(ie,"".concat(i,"-operations-operation-disabled"),!!A),ie)),onClick:c,key:l},d.isValidElement(T)?d.cloneElement(T,{className:B}):T)})));return d.createElement(qn,{visible:r,motionName:a},function(k){var ie=k.className,T=k.style;return d.createElement(Qn,{open:!0,getContainer:o??document.body},d.createElement("div",{className:ke("".concat(i,"-operations-wrapper"),ie,f),style:T},K))})},en={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Nr(n){var t=d.useRef(null),e=d.useRef([]),r=d.useState(en),a=fe(r,2),o=a[0],i=a[1],f=function(){i(en)},m=function(w){t.current===null&&(e.current=[],t.current=er(function(){i(function(h){var b=h;return e.current.forEach(function(S){b=M(M({},b),S)}),t.current=null,b})})),e.current.push(M(M({},o),w))},y=function(w,h,b){var S=n.current,z=S.width,U=S.height,V=S.offsetWidth,oe=S.offsetHeight,H=S.offsetLeft,R=S.offsetTop,se=w,N=o.scale*w;N>lt?(se=lt/o.scale,N=lt):N<ct&&(se=ct/o.scale,N=ct);var q=h??innerWidth/2,Q=b??innerHeight/2,O=se-1,Y=O*z*.5,ee=O*U*.5,ce=O*(q-o.x-H),J=O*(Q-o.y-R),L=o.x-(ce-Y),$=o.y-(J-ee);if(w<1&&N===1){var _=V*N,j=oe*N,B=In(),le=B.width,K=B.height;_<=le&&j<=K&&(L=0,$=0)}m({x:L,y:$,scale:N})};return{transform:o,resetTransform:f,updateTransform:m,dispatchZoomChange:y}}function tn(n,t,e,r){var a=t+e,o=(e-r)/2;if(e>r){if(t>0)return Se({},n,o);if(t<0&&a<r)return Se({},n,-o)}else if(t<0||a>r)return Se({},n,t<0?o:-o);return{}}function _r(n,t,e,r){var a=In(),o=a.width,i=a.height,f=null;return n<=o&&t<=i?f={x:0,y:0}:(n>o||t>i)&&(f=M(M({},tn("x",e,n,o)),tn("y",r,t,i))),f}var Tr=["prefixCls","src","alt","onClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],_n=function(t){var e=t.prefixCls,r=t.src,a=t.alt,o=t.onClose,i=t.visible,f=t.icons,m=f===void 0?{}:f,y=t.rootClassName,p=t.getContainer,w=t.countRender,h=t.scaleStep,b=h===void 0?.5:h,S=t.transitionName,z=S===void 0?"zoom":S,U=t.maskTransitionName,V=U===void 0?"fade":U,oe=dt(t,Tr),H=d.useRef(),R=d.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),se=d.useState(!1),N=fe(se,2),q=N[0],Q=N[1],O=d.useContext(Ft),Y=O.previewUrls,ee=O.current,ce=O.isPreviewGroup,J=O.setCurrent,L=Y.size,$=Array.from(Y.keys()),_=$.indexOf(ee),j=ce?Y.get(ee):r,B=ce&&L>1,le=ce&&L>=1,K=Nr(H),k=K.transform,ie=K.resetTransform,T=K.updateTransform,c=K.dispatchZoomChange,l=k.rotate,A=k.scale,X=ke(Se({},"".concat(e,"-moving"),q)),te=function(){ie()},G=function(){c(qe+b)},v=function(){c(qe-b)},I=function(){T({rotate:l+90})},de=function(){T({rotate:l-90})},we=function(){T({flipX:!k.flipX})},ue=function(){T({flipY:!k.flipY})},ne=function(x){x.preventDefault(),x.stopPropagation(),_>0&&J($[_-1])},F=function(x){x.preventDefault(),x.stopPropagation(),_<L-1&&J($[_+1])},P=function(){if(i&&q){Q(!1);var x=R.current,ge=x.transformX,Ce=x.transformY,Ae=k.x!==ge&&k.y!==Ce;if(!Ae)return;var Ie=H.current.offsetWidth*A,Ne=H.current.offsetHeight*A,Je=H.current.getBoundingClientRect(),ht=Je.left,vt=Je.top,$e=l%180!==0,_e=_r($e?Ne:Ie,$e?Ie:Ne,ht,vt);_e&&T(M({},_e))}},Z=function(x){x.button===0&&(x.preventDefault(),x.stopPropagation(),R.current={deltaX:x.pageX-k.x,deltaY:x.pageY-k.y,transformX:k.x,transformY:k.y},Q(!0))},Me=function(x){i&&q&&T({x:x.pageX-R.current.deltaX,y:x.pageY-R.current.deltaY})},gt=function(x){if(!(!i||x.deltaY==0)){var ge=Math.abs(x.deltaY/100),Ce=Math.min(ge,Pr),Ae=qe+Ce*b;x.deltaY>0&&(Ae=qe/Ae),c(Ae,x.clientX,x.clientY)}},We=d.useCallback(function(D){!i||!B||(D.keyCode===Gt.LEFT?_>0&&J($[_-1]):D.keyCode===Gt.RIGHT&&_<L-1&&J($[_+1]))},[_,L,$,J,B,i]),pt=function(x){i&&(A!==1?T({x:0,y:0,scale:1}):c(qe+b,x.clientX,x.clientY))};return d.useEffect(function(){var D,x,ge=Ke(window,"mouseup",P,!1),Ce=Ke(window,"mousemove",Me,!1),Ae=Ke(window,"keydown",We,!1);try{window.top!==window.self&&(D=Ke(window.top,"mouseup",P,!1),x=Ke(window.top,"mousemove",Me,!1))}catch{}return function(){var Ie,Ne;ge.remove(),Ce.remove(),Ae.remove(),(Ie=D)===null||Ie===void 0||Ie.remove(),(Ne=x)===null||Ne===void 0||Ne.remove()}},[i,q,We]),Be.createElement(Be.Fragment,null,Be.createElement(tr,tt({transitionName:z,maskTransitionName:V,closable:!1,keyboard:!0,prefixCls:e,onClose:o,visible:i,wrapClassName:X,rootClassName:y,getContainer:p},oe,{afterClose:te}),Be.createElement("div",{className:"".concat(e,"-img-wrapper")},Be.createElement("img",{width:t.width,height:t.height,onWheel:gt,onMouseDown:Z,onDoubleClick:pt,ref:H,className:"".concat(e,"-img"),src:j,alt:a,style:{transform:"translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0) scale3d(").concat(k.flipX?"-":"").concat(A,", ").concat(k.flipY?"-":"").concat(A,", 1) rotate(").concat(l,"deg)")}}))),Be.createElement(Dr,{visible:i,maskTransitionName:V,getContainer:p,prefixCls:e,rootClassName:y,icons:m,countRender:w,showSwitch:B,showProgress:le,current:_,count:L,scale:A,onSwitchLeft:ne,onSwitchRight:F,onZoomIn:G,onZoomOut:v,onRotateRight:I,onRotateLeft:de,onFlipX:we,onFlipY:ue,onClose:o}))},Mr=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],Or=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],nn=0;function Lr(n){return new Promise(function(t){var e=document.createElement("img");e.onerror=function(){return t(!1)},e.onload=function(){return t(!0)},e.src=n})}var ft=function(t){var e,r=t.src,a=t.alt,o=t.onPreviewClose,i=t.prefixCls,f=i===void 0?"rc-image":i,m=t.previewPrefixCls,y=m===void 0?"".concat(f,"-preview"):m,p=t.placeholder,w=t.fallback,h=t.width,b=t.height,S=t.style,z=t.preview,U=z===void 0?!0:z,V=t.className,oe=t.onClick,H=t.onError,R=t.wrapperClassName,se=t.wrapperStyle,N=t.rootClassName,q=t.crossOrigin,Q=t.decoding,O=t.loading,Y=t.referrerPolicy,ee=t.sizes,ce=t.srcSet,J=t.useMap,L=t.draggable,$=dt(t,Mr),_=p&&p!==!0,j=An(U)==="object"?U:{},B=j.src,le=j.visible,K=le===void 0?void 0:le,k=j.onVisibleChange,ie=k===void 0?o:k,T=j.getContainer,c=T===void 0?void 0:T,l=j.mask,A=j.maskClassName,X=j.icons,te=j.scaleStep,G=dt(j,Or),v=B??r,I=K!==void 0,de=Et(!!K,{value:K,onChange:ie}),we=fe(de,2),ue=we[0],ne=we[1],F=d.useState(_?"loading":"normal"),P=fe(F,2),Z=P[0],Me=P[1],gt=d.useState(null),We=fe(gt,2),pt=We[0],D=We[1],x=Z==="error",ge=d.useContext(Ft),Ce=ge.isPreviewGroup,Ae=ge.setCurrent,Ie=ge.setShowPreview,Ne=ge.setMousePosition,Je=ge.registerImage,ht=d.useState(function(){return nn+=1,nn}),vt=fe(ht,1),$e=vt[0],_e=!!U,yt=d.useRef(!1),Vt=function(){Me("normal")},Hn=function(be){if(!I){var Ht=nr(be.target),Yt=Ht.left,Xt=Ht.top;Ce?(Ae($e),Ne({x:Yt,y:Xt})):D({x:Yt,y:Xt})}Ce?Ie(!0):ne(!0),oe==null||oe(be)},Yn=function(be){be.stopPropagation(),ne(!1),I||D(null)},Xn=function(be){yt.current=!1,Z==="loading"&&be!=null&&be.complete&&(be.naturalWidth||be.naturalHeight)&&(yt.current=!0,Vt())};d.useEffect(function(){Lr(v).then(function(Oe){Oe||Me("error")})},[v]),d.useEffect(function(){var Oe=Je($e,v);return Oe},[]),d.useEffect(function(){Je($e,v,_e)},[v,_e]),d.useEffect(function(){x&&Me("normal"),_&&!yt.current&&Me("loading")},[r]);var Gn=ke(f,R,N,Se({},"".concat(f,"-error"),x)),Wn=x&&w?w:v,Zt={crossOrigin:q,decoding:Q,draggable:L,loading:O,referrerPolicy:Y,sizes:ee,srcSet:ce,useMap:J,onError:H,alt:a,className:ke("".concat(f,"-img"),Se({},"".concat(f,"-img-placeholder"),p===!0),V),style:M({height:b},S)};return d.createElement(d.Fragment,null,d.createElement("div",tt({},$,{className:Gn,onClick:_e?Hn:oe,style:M({width:h,height:b},se)}),d.createElement("img",tt({},Zt,{ref:Xn},x&&w?{src:w}:{onLoad:Vt,src:r},{width:h,height:b})),Z==="loading"&&d.createElement("div",{"aria-hidden":"true",className:"".concat(f,"-placeholder")},p),l&&_e&&d.createElement("div",{className:ke("".concat(f,"-mask"),A),style:{display:((e=Zt.style)===null||e===void 0?void 0:e.display)==="none"?"none":void 0}},l)),!Ce&&_e&&d.createElement(_n,tt({"aria-hidden":!ue,visible:ue,prefixCls:y,onClose:Yn,mousePosition:pt,src:Wn,alt:a,getContainer:c,icons:X,scaleStep:te,rootClassName:N},G)))};ft.PreviewGroup=Er;ft.displayName="Image";var jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Rr=jr;var Tn=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:Rr}))};Tn.displayName="RotateLeftOutlined";const $r=d.forwardRef(Tn);var Br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Fr=Br;var Mn=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:Fr}))};Mn.displayName="RotateRightOutlined";const Ur=d.forwardRef(Mn);var Vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Zr=Vr;var On=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:Zr}))};On.displayName="SwapOutlined";const rn=d.forwardRef(On);var Hr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const Yr=Hr;var Ln=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:Yr}))};Ln.displayName="ZoomInOutlined";const Xr=d.forwardRef(Ln);var Gr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Wr=Gr;var jn=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:Wr}))};jn.displayName="ZoomOutOutlined";const Jr=d.forwardRef(jn),_t=n=>({position:n||"absolute",inset:0}),Kr=n=>{const{iconCls:t,motionDurationSlow:e,paddingXXS:r,marginXXS:a,prefixCls:o}=n;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new Ye("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${e}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},sr),{padding:`0 ${r}px`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},qr=n=>{const{previewCls:t,modalMaskBg:e,paddingSM:r,imagePreviewOperationDisabledColor:a,motionDurationSlow:o}=n,i=new Ye(e).setAlpha(.1),f=i.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},cr(n)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:n.imagePreviewOperationColor,listStyle:"none",background:i.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${o}`,"&:hover":{background:f.toRgbString()},"&-disabled":{color:a,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:n.imagePreviewOperationSize}})}},Qr=n=>{const{modalMaskBg:t,iconCls:e,imagePreviewOperationDisabledColor:r,previewCls:a,zIndexPopup:o,motionDurationSlow:i}=n,f=new Ye(t).setAlpha(.1),m=f.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:o+1,display:"flex",alignItems:"center",justifyContent:"center",width:n.imagePreviewSwitchSize,height:n.imagePreviewSwitchSize,marginTop:-n.imagePreviewSwitchSize/2,color:n.imagePreviewOperationColor,background:f.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${i}`,pointerEvents:"auto","&:hover":{background:m.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${e}`]:{cursor:"not-allowed"}}},[`> ${e}`]:{fontSize:n.imagePreviewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:n.marginSM},[`${a}-switch-right`]:{insetInlineEnd:n.marginSM}}},ea=n=>{const{motionEaseOut:t,previewCls:e,motionDurationSlow:r,componentCls:a}=n;return[{[`${a}-preview-root`]:{[e]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${e}-body`]:Object.assign(Object.assign({},_t()),{overflow:"hidden"}),[`${e}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},_t()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${e}-moving`]:{[`${e}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${e}-wrap`]:{zIndex:n.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:n.zIndexPopup+1,width:"100%"},"&":[qr(n),Qr(n)]}]},ta=n=>{const{componentCls:t}=n;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:n.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Kr(n)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},_t())}}},na=n=>{const{previewCls:t}=n;return{[`${t}-root`]:or(n,"zoom"),["&"]:ir(n,!0)}},Rn=rr("Image",n=>{const t=new Ye(n.colorTextLightSolid),e=`${n.componentCls}-preview`,r=Wt(n,{previewCls:e,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new Ye(t).setAlpha(.25).toRgbString(),modalMaskBg:new Ye("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:n.fontSizeIcon*1.5,imagePreviewSwitchSize:n.controlHeightLG});return[ta(r),ea(r),ar(Wt(r,{componentCls:e})),na(r)]},n=>({zIndexPopup:n.zIndexPopupBase+80}));var ra=globalThis&&globalThis.__rest||function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e};const $n={rotateLeft:d.createElement($r,null),rotateRight:d.createElement(Ur,null),zoomIn:d.createElement(Xr,null),zoomOut:d.createElement(Jr,null),close:d.createElement(lr,null),left:d.createElement(dr,null),right:d.createElement(ur,null),flipX:d.createElement(rn,null),flipY:d.createElement(rn,{rotate:90})},aa=n=>{var{previewPrefixCls:t,preview:e}=n,r=ra(n,["previewPrefixCls","preview"]);const{getPrefixCls:a}=d.useContext(zn),o=a("image",t),i=`${o}-preview`,f=a(),[m,y]=Rn(o),p=d.useMemo(()=>{var w;if(e===!1)return e;const h=typeof e=="object"?e:{},b=ke(y,(w=h.rootClassName)!==null&&w!==void 0?w:"");return Object.assign(Object.assign({},h),{transitionName:ut(f,"zoom",h.transitionName),maskTransitionName:ut(f,"fade",h.maskTransitionName),rootClassName:b})},[e]);return m(d.createElement(ft.PreviewGroup,Object.assign({preview:p,previewPrefixCls:i,icons:$n},r)))},oa=aa;var an=globalThis&&globalThis.__rest||function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e};const Bn=n=>{var{prefixCls:t,preview:e,rootClassName:r}=n,a=an(n,["prefixCls","preview","rootClassName"]);const{getPrefixCls:o,locale:i=Jt,getPopupContainer:f}=d.useContext(zn),m=o("image",t),y=o(),p=i.Image||Jt.Image,[w,h]=Rn(m),b=ke(r,h),S=d.useMemo(()=>{if(e===!1)return e;const z=typeof e=="object"?e:{},{getContainer:U}=z,V=an(z,["getContainer"]);return Object.assign(Object.assign({mask:d.createElement("div",{className:`${m}-mask-info`},d.createElement(En,null),p==null?void 0:p.preview),icons:$n},V),{getContainer:U||f,transitionName:ut(y,"zoom",z.transitionName),maskTransitionName:ut(y,"fade",z.maskTransitionName)})},[e,p]);return w(d.createElement(ft,Object.assign({prefixCls:`${m}`,preview:S,rootClassName:b},a)))};Bn.PreviewGroup=oa;const ia=Bn;var sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const ca=sa;var Fn=function(t,e){return d.createElement(Ge,M(M({},t),{},{ref:e,icon:ca}))};Fn.displayName="AppstoreAddOutlined";const la=d.forwardRef(Fn);const da=async n=>{let t=`https://block-explorer-api.mainnet.zksync.io/address/${n}/transfers?limit=100&page=1`;const e=[];for(;;)try{const r=await De.get(t);if(r.status===200){const a=r.data.items;if(e.push(...a),r.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+r.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(r){console.error("Error occurred while making the request:",r);break}return e},ua=async n=>{const t=await De.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),e={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(t.data.result)};n.forEach(r=>{r.transfers.forEach(a=>{a.token.price=e[a.token.symbol.toUpperCase()]}),r.transfers=r.transfers.filter(a=>a.token.price!==void 0)})},fa=async n=>{let t=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${n}&limit=100&page=1`;const e=[],r=await fr();for(;;)try{const o=await De.get(t);if(o.status===200){if(o.data.items.forEach(f=>{const{hash:m,to:y,from:p,data:w,isL1Originated:h,fee:b,receivedAt:S,value:z}=f;e.push({hash:m,to:y,from:p,data:w,isL1Originated:h,fee:b,receivedAt:S,transfers:[],ethValue:parseInt(r),value:z})}),o.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+o.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(o){console.error("Error occurred while making the request:",o);break}return(await da(n)).forEach(o=>{o.token!==null&&e.forEach(i=>{i.hash===o.transactionHash&&i.transfers.push(o)})}),await ua(e),await $t(Bt),await Pn("zkTransactions",{address:n,data:JSON.stringify(e)}),e},ma=async n=>{let t=0;return n.forEach(e=>{const r=parseInt(e.fee,16)*1e-18*e.ethValue;t+=r}),t.toFixed(2)},ga=n=>{let t=0;return n.forEach(e=>{const r=e.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;const a=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price;t+=a}),t.toFixed(2)},pa=n=>{const t=(new Date().getTime()-new Date(n).getTime())/1e3;if(t<60)return ye.t("secondsAgo",{count:Math.round(t)});const e=t/60;if(e<60)return ye.t("minutesAgo",{count:Math.round(e)});const r=e/60;if(r<24)return ye.t("hoursAgo",{count:Math.round(r)});const a=r/24;return ye.t("daysAgo",{count:Math.round(a)})},ha=n=>{const t=n.getFullYear(),e=new Date(t,0,1),r=(n.getDay()+6)%7,a=Math.floor((n.getTime()-e.getTime())/864e5),o=Math.floor((a+e.getDay()-r)/7);return`${t}-${o}`},va=(n,t)=>{const e=new Set,r=new Set,a=new Set,o=new Set;return t.forEach(i=>{if(i.from.toLowerCase()!==n.toLowerCase())return;const f=new Date(i.receivedAt),m=f.getFullYear(),y=f.getMonth(),p=f.getDate(),w=ha(f);e.add(`${m}-${y}-${p}`),r.add(`${m}-${w}`),a.add(`${m}-${y}`),o.add(i.to)}),{dayActivity:e.size,weekActivity:r.size,monthActivity:a.size,contractActivity:o.size}},ya=async(n,t)=>{if(t.length===0)return{dayActivity:0,weekActivity:0,monthActivity:0,contractActivity:0,zks2_last_tx:ye.t("noTransaction")};const{dayActivity:e,weekActivity:r,monthActivity:a,contractActivity:o}=va(n,t),i=t[0],f=pa(i.receivedAt)||ye.t("noTransaction");return{dayActivity:e,weekActivity:r,monthActivity:a,contractActivity:o,zks2_last_tx:f}};async function wa(n){try{let t="https://block-explorer-api.mainnet.zksync.io/address/"+n;const e=await De.get(t);let r,a,o;return"0x000000000000000000000000000000000000800A"in e.data.balances?(a=e.data.balances["0x000000000000000000000000000000000000800A"].balance,a=(Number(a)/10**18).toFixed(3)):a=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in e.data.balances?(o=e.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,o=(Number(o)/10**6).toFixed(2)):o=0,r=e.data.sealedNonce,{zks2_balance:a,zks2_tx_amount:r,zks2_usdcBalance:o}}catch(t){return console.error(t),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}const ba=n=>{const t=(new Date().getTime()-new Date(n).getTime())/1e3;if(t<60)return ye.t("secondsAgo",{count:Math.round(t)});const e=t/60;if(e<60)return ye.t("minutesAgo",{count:Math.round(e)});const r=e/60;if(r<24)return ye.t("hoursAgo",{count:Math.round(r)});const a=r/24;return ye.t("daysAgo",{count:Math.round(a)})};async function xa(n){try{const e=(await De.get(`https://api.zksync.io/api/v0.2/accounts/${n}/transactions`,{params:{from:"latest",limit:"25",direction:"older"}})).data;return e.result.list.length===0?ye.t("noTransaction"):ba(e.result.list[0].createdAt)}catch(t){return console.log(t),"-"}}async function ka(n){try{let t="https://api.zksync.io/jsrpc";const e=await De.post(t,{id:1,jsonrpc:"2.0",method:"account_info",params:[n]});let r;"ETH"in e.data.result.committed.balances?r=(e.data.result.committed.balances.ETH/10**18).toFixed(3):r=0;let a=e.data.result.committed.nonce,o=await xa(n);return{zks1_balance:r,zks1_tx_amount:a,zks1_latest_tx:o}}catch(t){return console.error(t),{zks1_balance:"-",zks1_tx_amount:"-",zks1_latest_tx:"-"}}}const Sa={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Ca(n,t){try{let e=Sa[t];if(!e)return"Error: Invalid Network Name";let a=(await De.post(e,{jsonrpc:"2.0",method:"eth_getBalance",params:[n,"latest"],id:1})).data.result;return(parseInt(a,16)/10**18).toFixed(3)}catch(e){return console.error(e),"Error"}}const Aa={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Ia(n,t){try{let e=Aa[t];if(!e)return"Error: Invalid Network Name";const a=(await De.post(e,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[n,"latest"],id:1})).data.result;return parseInt(a,16)}catch(e){return console.error(e),"Error"}}const za="6.3.0";function Ea(n,t,e){const r=t.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const a=new Error(`invalid value for type ${t}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${e}`,a.value=n,a}function Un(n,t,e){for(let r in t){let a=t[r];const o=e?e[r]:null;o&&Ea(a,o,r),Object.defineProperty(n,r,{enumerable:!0,value:a,writable:!1})}}function Ue(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(Ue).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let r=0;r<n.length;r++)e+=t[n[r]>>4],e+=t[n[r]&15];return e}if(typeof n=="object"&&typeof n.toJSON=="function")return Ue(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(e=>`${Ue(e)}: ${Ue(n[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Pa(n,t,e){{const a=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Ue(e)}`);for(const o in e){const i=e[o];a.push(o+"="+Ue(i))}}a.push(`code=${t}`),a.push(`version=${za}`),a.length&&(n+=" ("+a.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(n);break;default:r=new Error(n)}return Un(r,{code:t}),e&&Object.assign(r,e),r}function me(n,t,e,r){if(!n)throw Pa(t,e,r)}function W(n,t,e,r){me(n,t,"INVALID_ARGUMENT",{argument:e,value:r})}["NFD","NFC","NFKD","NFKC"].reduce((n,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(e!==r)throw new Error("broken")}n.push(t)}catch{}return n},[]);function Da(n,t,e){if(e==null&&(e=""),n!==t){let r=e,a="new";e&&(r+=".",a+=" "+e),me(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function Na(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let a=2;for(let o=0;o<r.length;o++)r[o]=parseInt(n.substring(a,a+2),16),a+=2;return r}W(!1,"invalid BytesLike value",t||"value",n)}function _a(n,t){return Na(n,t,!1)}const Vn=BigInt(0),Ve=BigInt(1),Ze=9007199254740991;function Tt(n,t){const e=Zn(n,"value"),r=BigInt(mt(t,"width"));if(me(e>>r===Vn,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e>>r-Ve){const a=(Ve<<r)-Ve;return-((~e&a)+Ve)}return e}function on(n,t){const e=Zn(n,"value"),r=BigInt(mt(t,"bits"));return e&(Ve<<r)-Ve}function Ut(n,t){switch(typeof n){case"bigint":return n;case"number":return W(Number.isInteger(n),"underflow",t||"value",n),W(n>=-Ze&&n<=Ze,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){W(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}W(!1,"invalid BigNumberish value",t||"value",n)}function Zn(n,t){const e=Ut(n,t);return me(e>=Vn,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const sn="0123456789abcdef";function Ta(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=sn[e>>4],t+=sn[e&15];return BigInt(t)}return Ut(n)}function mt(n,t){switch(typeof n){case"bigint":return W(n>=-Ze&&n<=Ze,"overflow",t||"value",n),Number(n);case"number":return W(Number.isInteger(n),"underflow",t||"value",n),W(n>=-Ze&&n<=Ze,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return mt(BigInt(n),t)}catch(e){W(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}W(!1,"invalid numeric value",t||"value",n)}const Ma=BigInt(-1),pe=BigInt(0),He=BigInt(1),Oa=BigInt(5),Fe={};let Xe="0000";for(;Xe.length<80;)Xe+=Xe;function je(n){let t=Xe;for(;t.length<n;)t+=t;return BigInt("1"+t.substring(0,n))}function Qe(n,t,e){const r=BigInt(t.width);if(t.signed){const a=He<<r-He;me(e==null||n>=-a&&n<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:n}),n>pe?n=Tt(on(n,r),r):n=-Tt(on(-n,r),r)}else{const a=He<<r;me(e==null||n>=0&&n<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:n}),n=(n%a+a)%a&a-He}return n}function At(n){typeof n=="number"&&(n=`fixed128x${n}`);let t=!0,e=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")t=!1;else{const o=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);W(o,"invalid fixed format","format",n),t=o[1]!=="u",e=parseInt(o[2]),r=parseInt(o[3])}}else if(n){const o=n,i=(f,m,y)=>o[f]==null?y:(W(typeof o[f]===m,"invalid fixed format ("+f+" not "+m+")","format."+f,o[f]),o[f]);t=i("signed","boolean",t),e=i("width","number",e),r=i("decimals","number",r)}W(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),W(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const a=(t?"":"u")+"fixed"+String(e)+"x"+String(r);return{signed:t,width:e,decimals:r,name:a}}function La(n,t){let e="";n<pe&&(e="-",n*=Ma);let r=n.toString();if(t===0)return e+r;for(;r.length<=t;)r=Xe+r;const a=r.length-t;for(r=r.substring(0,a)+"."+r.substring(a);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return e+r}var he,C,re,Pe,Re,ve,Ee,nt,Ot,rt,Lt,at,jt,ot,Rt;const Te=class{constructor(t,e,r){xe(this,Pe);xe(this,ve);xe(this,nt);xe(this,rt);xe(this,at);xe(this,ot);wt(this,"format");xe(this,he,void 0);xe(this,C,void 0);xe(this,re,void 0);wt(this,"_value");Da(t,Fe,"FixedNumber"),it(this,C,e),it(this,he,r);const a=La(e,r.decimals);Un(this,{format:r.name,_value:a}),it(this,re,je(r.decimals))}get signed(){return g(this,he).signed}get width(){return g(this,he).width}get decimals(){return g(this,he).decimals}get value(){return g(this,C)}addUnsafe(t){return E(this,nt,Ot).call(this,t)}add(t){return E(this,nt,Ot).call(this,t,"add")}subUnsafe(t){return E(this,rt,Lt).call(this,t)}sub(t){return E(this,rt,Lt).call(this,t,"sub")}mulUnsafe(t){return E(this,at,jt).call(this,t)}mul(t){return E(this,at,jt).call(this,t,"mul")}mulSignal(t){E(this,Pe,Re).call(this,t);const e=g(this,C)*g(t,C);return me(e%g(this,re)===pe,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),E(this,ve,Ee).call(this,e/g(this,re),"mulSignal")}divUnsafe(t){return E(this,ot,Rt).call(this,t)}div(t){return E(this,ot,Rt).call(this,t,"div")}divSignal(t){me(g(t,C)!==pe,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),E(this,Pe,Re).call(this,t);const e=g(this,C)*g(this,re);return me(e%g(t,C)===pe,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),E(this,ve,Ee).call(this,e/g(t,C),"divSignal")}cmp(t){let e=this.value,r=t.value;const a=this.decimals-t.decimals;return a>0?r*=je(a):a<0&&(e*=je(-a)),e<r||e>r?-1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=g(this,C);return g(this,C)<pe&&(t-=g(this,re)-He),t=g(this,C)/g(this,re)*g(this,re),E(this,ve,Ee).call(this,t,"floor")}ceiling(){let t=g(this,C);return g(this,C)>pe&&(t+=g(this,re)-He),t=g(this,C)/g(this,re)*g(this,re),E(this,ve,Ee).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,r=Oa*je(e-1);let a=this.value+r;const o=je(e);return a=a/o*o,Qe(a,g(this,he),"round"),new Te(Fe,a,g(this,he))}isZero(){return g(this,C)===pe}isNegative(){return g(this,C)<pe}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Te.fromString(this.toString(),t)}static fromValue(t,e,r){e==null&&(e=0);const a=At(r);let o=Ut(t,"value");const i=e-a.decimals;if(i>0){const f=je(i);me(o%f===pe,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),o/=f}else i<0&&(o*=je(-i));return Qe(o,a,"fromValue"),new Te(Fe,o,a)}static fromString(t,e){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);W(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const a=At(e);let o=r[2]||"0",i=r[3]||"";for(;i.length<a.decimals;)i+=Xe;me(i.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,a.decimals);const f=BigInt(r[1]+o+i);return Qe(f,a,"fromString"),new Te(Fe,f,a)}static fromBytes(t,e){let r=Ta(_a(t,"value"));const a=At(e);return a.signed&&(r=Tt(r,a.width)),Qe(r,a,"fromBytes"),new Te(Fe,r,a)}};let Mt=Te;he=new WeakMap,C=new WeakMap,re=new WeakMap,Pe=new WeakSet,Re=function(t){W(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},ve=new WeakSet,Ee=function(t,e){return t=Qe(t,g(this,he),e),new Te(Fe,t,g(this,he))},nt=new WeakSet,Ot=function(t,e){return E(this,Pe,Re).call(this,t),E(this,ve,Ee).call(this,g(this,C)+g(t,C),e)},rt=new WeakSet,Lt=function(t,e){return E(this,Pe,Re).call(this,t),E(this,ve,Ee).call(this,g(this,C)-g(t,C),e)},at=new WeakSet,jt=function(t,e){return E(this,Pe,Re).call(this,t),E(this,ve,Ee).call(this,g(this,C)*g(t,C)/g(this,re),e)},ot=new WeakSet,Rt=function(t,e){return me(g(t,C)!==pe,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),E(this,Pe,Re).call(this,t),E(this,ve,Ee).call(this,g(this,C)*g(this,re)/g(t,C),e)};const ja=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ra(n,t){let e=18;if(typeof t=="string"){const r=ja.indexOf(t);W(r>=0,"invalid unit","unit",t),e=3*r}else t!=null&&(e=mt(t,"unit"));return Mt.fromValue(n,e,{decimals:e}).toString()}function cn(n){return Ra(n,18)}const $a=(n,t)=>{let e=0,r=0,a=0,o=0;return n.forEach(i=>{const f=i.from,m=i.to,y=i.isL1Originated;if(f.toLowerCase()===t.toLowerCase()){if(y){e++;const p=cn(i.value);r+=parseFloat(p)}if(m.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){a++;const p=cn(i.value);o+=parseFloat(p)}}}),{l1Tol2Times:e,l1Tol2Amount:r.toFixed(3),l2Tol1Times:a,l2Tol1Amount:o.toFixed(3)}},Ba=async(n,t)=>{let e;if(!t)return e={score:"-",rank:"-",top:"-"},e;try{const r="https://mp.trustalabs.ai/zksyncera/score?account="+n+"&chainId=324",a=await De.get(r);if(a.data.message==="request success"){const o=a.data.data.score,i=a.data.data.rankValue.rank,f=a.data.data.rankValue.total,m=(Number(i)/Number(f)*100).toFixed(1);e={score:Number(o).toFixed(0),rank:i,top:m}}else e={score:0,rank:-1,top:100}}catch(r){e={score:"-",rank:"-",top:"-"},console.log(r.message)}return e},Fa=n=>{const t=n.getFullYear(),e=new Date(t,0,1),r=(n.getDay()+6)%7,a=Math.floor((n.getTime()-e.getTime())/864e5),o=Math.floor((a+e.getDay()-r)/7);return`${t}-${o}`},ae=(n,t,e,r=[])=>{const a=new Set,o=new Set,i=new Set;return t.forEach(f=>{if(e!=="zksynceraportal"&&!r.includes(f.to.toLowerCase())&&!r.includes(f.from.toLowerCase())||e==="zksynceraportal"&&!f.data.startsWith("0x51cff8d9")&&!(f.to.toLowerCase()===n.toLowerCase()&&f.isL1Originated))return;const m=new Date(f.receivedAt),y=m.getFullYear(),p=m.getMonth(),w=m.getDate(),h=Fa(m);a.add(`${y}-${p}-${w}`),o.add(`${y}-${h}`),i.add(`${y}-${p}`)}),{days:a.size,weeks:o.size,months:i.size}},ln="0x2da10a1e27bf85cedd8ffb1abbe97e53391c0295",dn=["0x80115c708e12edd42e504c1cd52aea96c547c05c","0x176b23f1ddfeedd10fc250b8f769362492ef810b","0x4e7d2e3f40998daeb59a316148bfbf8efd1f7f3c","0xae092fcec5fd04836b12e87da0d7ed3a707b38b0"],Ua={getProtocolsState:(n,t)=>{const e={name:"SyncSwap",id:"syncswap",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://syncswap.xyz/"};return n.forEach(r=>{if(ln.includes(r.to.toLowerCase())||dn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,dn.concat([ln])).days,e}},un=["0xd2ca21df45479824f954a6e1759d436a57d63faf","0x1f090f91ee09768ca36dcd52640f4a5eae146555","0xc523df658dbec88dc03fb23a703bcbd7ffb5ea01","0x116a4a5ed4c7d5712e109d4188e17616d8e5784a","0x8d123a2a0a7c98555931ceda6917b865b7345164"],Va={getProtocolsState:(n,t)=>{const e={name:"Goal3",id:"goal3",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://beta.goal3.xyz/",tag:"Gasless"};return n.forEach(r=>{if(un.includes(r.to.toLowerCase())){if(r.data.startsWith("0xbd95e4f1")){const a=parseInt(r.data.slice(-64),16)*1e-6;e.volume+=a}else{const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}e.interactions+=1,e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt)}}),e.activeDays=ae(t,n,e.id,un).days,e}},fn=["0x7b4872e2096ec9410b6b8c8b7d039589e6ee8022","0xaf08a9d918f16332f22cf8dc9abe9d9e14ddcbc2"],Za={getProtocolsState:(n,t)=>{const e={name:"Holdstation",id:"holdstation",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://holdstation.exchange/"};return n.forEach(r=>{if(fn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,fn).days,e}},mn=["0x33d9936b7b7bc155493446b5e6ddc0350eb83aec","0x7499ce9c8f4ff47be5dd5308ab54cc710de751e1","0xbc94aedd2a0a986476b89e072b05e0df117a3f8b","0xc319755dff1601b3d0520b421a281b11bf22e80f","0x8df80089b7ab1646db211d43949ecdfc94582011","0x0066f3791bd9d5a25d88f978dd8e1006445fe0d6","0x377ec7c9ae5a0787f384668788a1654249059dd6","0x3ec82c07981d6d213da9bd35a0ba4cd324fea438","0x9606ec131eec0f84c95d82c9a63959f2331cf2ac","0x936c9a1b8f88bfdbd5066ad08e5d773bc82eb15f","0x8b9d7d609a83b2f69d2135786a7d230043af7283","0x7dee7de9814ed6c1e20b3e4e2fa9b1b96e15fde1"],Ha={getProtocolsState:(n,t)=>{const e={name:"iZUMi finance",id:"izumi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://izumi.finance/home"};return n.forEach(r=>{if(mn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,mn).days,e}},gn=["0xfd54762d435a490405dda0fbc92b7168934e8525","0x852639ee9dd090d30271832332501e87d287106c","0x77ee88b1c9cce741ec35553730eb1f19cd45a379","0x39e098a153ad69834a9dac32f0fca92066ad03f4"],Ya={getProtocolsState:(n,t)=>{const e={name:"Maverick",id:"maverick",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.mav.xyz/"};return n.forEach(r=>{if(gn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,gn).days,e}},pn="0x8b791913eb07c32779a16750e3868aa8495f5964",hn=["0xdfaab828f5f515e104baaba4d8d554da9096f0e4","0xb85feb6af3412d690dfda280b73eaed73a2315bc"],Xa={getProtocolsState:(n,t)=>{const e={name:"Mute.io",id:"muteio",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://mute.io/"};return n.forEach(r=>{if(pn.includes(r.to.toLowerCase())||hn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,hn.concat([pn])).days,e}},vn=["0x84c18204c30da662562b7a2c79397c9e05f942f0","0xca806b267fc0c1c12edbf77a2e5bca5939c7d953","0xaa08a6d7b10724d03b8f4857d4fa14e7f92814e3","0x10c8044ae3f2b1c7decb439ff2dc1164d750c39d","0xe676b11421d68a28ba50920f2841183af93067a2","0x6219f06135b79705d34f5261852e9f6b98821e1f"],Ga={getProtocolsState:(n,t)=>{const e={name:"Onchain Trade",id:"onchaintrade",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://onchain.trade/"};return n.forEach(r=>{if(vn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,vn).days,e}},It=["0xe4edb277e41dc89ab076a1f049f4a3efa700bce8","0x80c67432656d59144ceff962e8faf8926599bcf8","0xee73323912a4e3772b74ed0ca1595a152b0ef282","0x0a88BC5c32b684D467b43C06D9e0899EfEAF59Df"],Wa={getProtocolsState:(n,t)=>{const e={name:"Orbiter Finance",id:"orbiter",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://orbiter.finance/"};return n.forEach(r=>{if(It.includes(r.to.toLowerCase())||It.includes(r.from.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,It).days,e}},yn=["0xefde2aefe307a7362c7e0e3be019d1491dc7e163","0xba5f1898f3af43e30b552cac559f11f5d5a2fd1e","0xf9895dcb26c60743fce3ae54f506c47b763693bb","0xbbca935fb05d8671b8875293c2d82df73105ac60","0xc8db02c5900de3ed03139e9ec62a84b2f5e06d7f","0xc2e9dfb2fded2139b0b60c6781b4c648f1385c16","0x0ed4a1c66fcdf17341177422e73ca919284e040c","0x015d01187a77055fadb96c63a9de9f8981e3d0f5","0x9eb48ce91a77ff37f2edd032c90d7ec6a953b4fd","0x1f79cce5b8876a07541900e681b31a8e51766b5a","0xf77ded0ae91c41c432555beb25da2a6658338e5a","0xcc8b6c37fb97bdc774f0ea7f8b047e8ee057458c","0xc05c6a229c6ed34b9d31c88421d70ef71fbaabcf","0xf35eb225803ccf6ffb64be531bb91132a9229196","0x277e57e33c92c7f145832274384eeef35828db3d","0x2dddd703578d1f5bd1fad113c9e12f0c416305d5","0xd23432901c0754e28999661f31ab4aa3633ec2ed","0x747cc81b6c2b4afe13be59d31591d4229854b826","0xa0c13b5eca719be98ef27d0c4111cb5abbe97731","0x824422bd3ba030ca9ca5bcad26dfd4b45409849d","0xd2589f416c9412572df8d94fa1d58073c9f8f3bf","0x7bd375b95a1dbcbddb1e8219a01c550b21ed6ea2","0x5b91962f5eca75e6558e4d32df69b30f75cc6fe5","0x901b51b9a4214990ac6f0fd50a45df1573b7a51a"],Ja={getProtocolsState:(n,t)=>{const e={name:"Rollup Finance",id:"rollup",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://rollup.finance/"};return n.forEach(r=>{if(yn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,yn).days,e}},wn=["0x0700fb51560cfc8f896b2c812499d17c5b0bf6a7","0xe8826fc3ce6e74932144dbc2b369e7b52e88193a","0x7cf85f98c0339559eab22deea1e018721e800add","0xb376fceacd9fef24a342645cbf72a4c439ea0614","0xacf5a67f2fcfeda3946ccb1ad9d16d2eb65c3c96","0x4ad9ee1698b6d521ebb2883dd9fc3655c7553561","0x00f093ff2bca9da894396336286c7c5bd2310ca5","0x307baa142ba2bfa4a3059efb631899c992a193ee","0x77d807b74d54b81a87a5769176bc7719f676c8ce","0xbe7d1fd1f6748bbdefc4fbacafbb11c6fc506d1d"],Ka={getProtocolsState:(n,t)=>{const e={name:"SpaceFi",id:"spacefi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://spacefi.io/"};return n.forEach(r=>{if(wn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,wn).days,e}},bn=["0x1bdb8250eaf3c596441e6c3417c9d5195d6c85b9"],qa={getProtocolsState:(n,t)=>{const e={name:"Starmaker",id:"starmaker",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://starmaker.exchange/"};return n.forEach(r=>{if(bn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,bn).days,e}},xn="0xd999e16e68476bc749a28fc14a0c3b6d7073f50c",kn=["0xcd52cbc975fbb802f82a1f92112b1250b5a997df"],Qa={getProtocolsState:(n,t)=>{const e={name:"Velocore",id:"velocore",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://velocore.xyz/"};return n.forEach(r=>{if(xn.includes(r.to.toLowerCase())||kn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,kn.concat([xn])).days,e}},eo={getProtocolsState:(n,t)=>{const e={name:"zkSync Era Portal",id:"zksynceraportal",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://portal.zksync.io/bridge"};return n.forEach(r=>{if(r.to.toLowerCase()==="0x000000000000000000000000000000000000800a"&&r.data.startsWith("0x51cff8d9")||r.to.toLowerCase()===t.toLowerCase()&&r.isL1Originated){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,["0x000000000000000000000000000000000000800a"]).days,e}},zt=["0xa531ece441138d8ce52642ad497059f2a79fd96f"],to={getProtocolsState:(n,t)=>{const e={name:"zkSync ID",id:"zksyncid",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://www.zksyncid.xyz/"};return n.forEach(r=>{if(zt.includes(r.to.toLowerCase())||zt.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,zt).days,e}},Sn=["0xae23b6e7f91ddebd3b70d74d20583e3e674bd94f"],no={getProtocolsState:(n,t)=>{const e={name:"zkSync Name Service",id:"zksyncnameservice",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.zkns.domains/"};return n.forEach(r=>{if(Sn.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=ae(t,n,e.id,Sn).days,e}},ro=async(n,t)=>{const e=Ua.getProtocolsState(n,t),r=Va.getProtocolsState(n,t),a=Za.getProtocolsState(n,t),o=Ha.getProtocolsState(n,t),i=Ya.getProtocolsState(n,t),f=Xa.getProtocolsState(n,t),m=Ga.getProtocolsState(n,t),y=Wa.getProtocolsState(n,t),p=Ja.getProtocolsState(n,t),w=Ka.getProtocolsState(n,t),h=qa.getProtocolsState(n,t),b=Qa.getProtocolsState(n,t),S=eo.getProtocolsState(n,t),z=to.getProtocolsState(n,t),U=no.getProtocolsState(n,t),V=await Promise.all([e,r,a,o,i,f,m,y,p,w,h,b,S,z,U]);await $t(Bt),await Pn("zkProtocol",{address:t,data:JSON.stringify(V)})},Cn=async(n,t)=>{try{const e=await fa(n),r=await ma(e),a=ga(e),o=await ya(n,e),i=await wa(n),f=await ka(n),m=await Ca(n,"ethereum"),y=await Ia(n,"ethereum"),p=$a(e,n),w=await Ba(n,t);return await ro(e,n),{totalFee:r,totalExchangeAmount:a,activity:o,zksEraBalance:i,zksLiteBalance:f,eth_balance:m,eth_tx_amount:y,bridge:p,trustData:w,result:"success"}}catch(e){return{result:"error",reason:e.message}}},ao=n=>{const{t}=Nn(),e=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:i=>u.jsx("div",{style:{width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(ia,{src:i,alt:"logo",style:{width:"100%",height:"100%",objectFit:"contain"}})})},{title:t("protocol"),dataIndex:"name",key:"name",align:"center"},{title:t("category"),dataIndex:"category",key:"category",align:"center",filters:[{text:"DEX",value:"DEX"}],onFilter:(i,f)=>f.category===i},{title:t("link"),dataIndex:"url",key:"url",align:"center",render:i=>u.jsx(Pt,{title:t("tip"),children:u.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:i})})},{title:t("intro"),dataIndex:"description",key:"description",align:"center",render:i=>u.jsx(Pt,{title:i,children:u.jsx("span",{children:i.length>30?`${i.substring(0,30)}...`:i})})}],r=[{key:"1",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/izumi-1.png",name:"iziswap",category:"DEX",url:"https://zksync.izumi.finance/swap",description:"izumi_FinanceDeFi22MiZiSwapzkSyncTVL40Mzksyncdex,zksync50%"},{key:"2",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Portal",category:"Portal",url:"https://portal.zksync.io/",description:"zkSync"},{key:"3",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Bridge",category:"Bridge",url:"https://portal.zksync.io/bridge/",description:"zkSync"},{key:"4",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/meson.svg",name:"meson",category:"Bridge",url:"https://meson.fi/?from=bitboxtools",description:"Meson USDCUSDT  BUSD  zkSync 20"},{key:"5",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/hito-transparent.svg",name:"Argent",category:"Wallet",url:"https://www.argent.xyz/",description:"ArgentzkSync"},{key:"6",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/Group%20104439%20-%20Naomi%20LI.svg",name:"Element Market",category:"NFT",url:"https://element.market/",description:"Element MarketNFT"},{key:"7",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/orbiter-1.png",name:"Orbiter",category:"Bridge",url:"https://orbiter.finance",description:"Orbiter"},{key:"8",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/okxwallet.png",name:"OKX Wallet",category:"Wallet",url:"https://www.okx.com/cn/web3",description:"OKX Wallet,Web3 "},{key:"9",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-DeBank.png",name:"DeBank",category:"Defi",url:"https://debank.com/",description:"DeBank"}],{open:a,onCancel:o}=n;return u.jsxs(Dt,{title:u.jsxs(u.Fragment,{children:[t("ecosystem"),u.jsxs(et,{color:"red",style:{marginLeft:"8px"},children:[" ",t("tip2")," "]})]}),open:a,onCancel:o,footer:[u.jsx(ze,{onClick:o,type:"primary",children:t("close")},"close")],width:1200,centered:!0,closable:!1,bodyStyle:{height:"500px",overflow:"auto"},children:[u.jsx("div",{children:u.jsx(Nt,{columns:e,pagination:!1,size:"small",dataSource:r})}),u.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:u.jsx("p",{children:"Wait more..."})})]})},{Content:oo}=kr,{TextArea:io}=Dn;function fo(){const{t:n}=Nn(),[t,e]=d.useState(!1),[r,a]=d.useState([]),[o,i]=d.useState(!0),[f,m]=d.useState(!1),[y,p]=d.useState(!1),[w]=xt.useForm(),[h,b]=d.useState([]),[S,z]=d.useState(!1),[U,V]=d.useState(!1),[oe,H]=d.useState(null),[R,se]=d.useState(null),[N,q]=d.useState(!1),[Q,O]=d.useState(!0);let Y=r.length+1;d.useEffect(()=>{const c=localStorage.getItem("isGetTustalabsData");c&&O(c==="true")},[]),d.useEffect(()=>{V(!0);const c=localStorage.getItem("addresses");setTimeout(()=>{V(!1)},500),c&&a(JSON.parse(c)),q(!0)},[]),d.useEffect(()=>{N&&localStorage.setItem("addresses",JSON.stringify(r))},[r,N]);const ee=async c=>{const l=c?[c]:h;if(!l.length){Le.error({message:n("zk_error"),description:n("zk_error_msg3"),duration:1});return}z(!0);try{let X=0,te=[];const G=()=>{for(;te.length>0&&X<5;){const v=te.shift();X+=1,v().finally(()=>{X-=1,G()})}};for(let v of l){const I=r.findIndex(de=>de.key===v);if(I!==-1){const de=()=>new Promise(async(we,ue)=>{try{a(F=>{const P=[...F];for(let Z in P[I])Z!=="address"&&Z!=="name"&&Z!=="key"&&(Z==="result"?P[I][Z]="pending":P[I][Z]=null);return P});const ne=await Cn(r[I].address,Q);a(F=>{const P=[...F];return P[I]={...P[I],...ne},localStorage.setItem("addresses",JSON.stringify(P)),P}),we()}catch(ne){ue(ne)}});te.push(de)}}for(G();X>0||te.length>0;)await new Promise(v=>setTimeout(v,100));Le.success({message:"",description:"",duration:1})}catch(A){s,Le.error({message:n("zk_error"),description:A.message,duration:1})}finally{z(!1),c||b([])}},ce=async()=>{try{e(!0),m(!1);const l=(await w.validateFields()).addresses.split(`
`),A=5;let X=0,te=[];const G=()=>{for(;te.length>0&&X<A;){const v=te.shift();X+=1,v().finally(()=>{X-=1,G()})}};for(let v of l){if(v=v.trim(),v.length!==42){Le.error({message:n("zk_error"),description:n("zk_error_msg"),duration:1});continue}const I=()=>new Promise(async(de,we)=>{try{a(ne=>{const F=[...ne];if(F.findIndex(Z=>Z.address===v)===-1){const Z={key:Y.toString(),address:v,result:"pending"};Y++,F.push(Z)}return F});const ue=await Cn(v,Q);a(ne=>{const F=[...ne],P=F.findIndex(Z=>Z.address===v);return P!==-1&&(F[P]={...F[P],...ue}),F}),de()}catch(ue){we(ue)}});te.push(I)}for(G();X>0||te.length>0;)await new Promise(v=>setTimeout(v,100));Le.success({message:"",description:"",duration:1})}catch(c){Le.error({message:n("zk_error"),description:c.message,duration:1})}finally{e(!1),w.resetFields(),b([])}},J=()=>{i(!o)},L=()=>o?u.jsx(Sr,{}):u.jsx(En,{}),$=()=>{m(!0)},_=()=>{Cr(r,"walletInfo")},j=async c=>{a(r.filter(l=>l.address!==c)),localStorage.setItem("addresses",JSON.stringify(r.filter(l=>l.address!==c))),await st("zkProtocol",[c]),await st("zkTransactions",[c])},B=async()=>{if(!h.length){Le.error({message:n("zk_error"),description:n("zk_error_msg2"),duration:1});return}const c=r.filter(l=>h.includes(l.key)).map(l=>l.address);await st("zkTransactions",c),await st("zkProtocol",c),a(r.filter(l=>!h.includes(l.key))),localStorage.setItem("addresses",JSON.stringify(r.filter(l=>!h.includes(l.key)))),b([])},le={selectedRowKeys:h,onChange:c=>{b(c)}},K=()=>{m(!1)},k=async c=>{await $t(Bt);const l=await Ar("zkProtocol",c);console.log(l);const A=l.data?JSON.parse(l.data):[];return{address:c,protocols:A}},ie=[{title:"#",key:"index",align:"center",render:(c,l,A)=>A+1},{title:n("notes"),dataIndex:"name",key:"name",align:"center",render:(c,l)=>{const A=c||u.jsx(Kt,{});return u.jsx(kt,{title:u.jsx("div",{children:u.jsx(Dn,{placeholder:"",defaultValue:c,onChange:X=>{l.name=X.target.value},allowClear:!0,bordered:!0})}),icon:u.jsx(Kt,{}),onConfirm:()=>{a([...r]),localStorage.setItem("addresses",JSON.stringify(r))},onCancel:()=>{},okText:"",cancelText:"",children:u.jsx(et,{color:"blue",style:{cursor:"pointer"},children:A})})}},{title:u.jsxs("span",{children:[n("address"),u.jsx("span",{onClick:J,style:{marginLeft:8,cursor:"pointer"},children:L()})]}),dataIndex:"address",key:"address",align:"center",render:(c,l)=>o?c.slice(0,4)+"***"+c.slice(-4):c},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center",render:(c,l)=>c},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center",render:(c,l)=>c}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:["zksLiteBalance","zks1_balance"],key:"zks1_balance",align:"center",render:(c,l)=>c},{title:"Tx",dataIndex:["zksLiteBalance","zks1_tx_amount"],key:"zks1_tx_amount",align:"center",render:(c,l)=>c,sorter:(c,l)=>c.zksLiteBalance.zks1_tx_amount-l.zksLiteBalance.zks1_tx_amount},{title:n("last_tx"),dataIndex:["zksLiteBalance","zks1_latest_tx"],key:"zks1_latest_tx",align:"center",render:(c,l)=>c}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:["zksEraBalance","zks2_balance"],key:"zks2_balance",align:"center",render:(c,l)=>c},{title:"USDC",dataIndex:["zksEraBalance","zks2_usdcBalance"],key:"zks2_usdcBalance",align:"center",render:(c,l)=>c},{title:"Tx",dataIndex:["zksEraBalance","zks2_tx_amount"],key:"zks2_tx_amount",align:"center",render:(c,l)=>c,sorter:(c,l)=>c.zksEraBalance.zks2_tx_amount-l.zksEraBalance.zks2_tx_amount},{title:n("last_tx"),dataIndex:["activity","zks2_last_tx"],key:"zks2_last_tx",align:"center",render:(c,l)=>u.jsx("a",{href:"https://explorer.zksync.io/address/"+l.address,target:"_blank",children:c})},{title:n("official_bridge_tx"),key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Times"],key:"l1Tol2Times",align:"center",render:(c,l)=>c},{title:"L2->L1",dataIndex:["bridge","l2Tol1Times"],key:"l2Tol1Times",align:"center",render:(c,l)=>c}]},{title:n("official_bridge_amount"),key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Amount"],key:"l1Tol2Amount",align:"center",render:(c,l)=>c},{title:"L2->L1",dataIndex:["bridge","l2Tol1Amount"],key:"l2Tol1Amount",align:"center",render:(c,l)=>c}]},{title:n("activities"),key:"activity_stats_group",children:[{title:n("day"),dataIndex:["activity","dayActivity"],key:"dayActivity",align:"center",render:(c,l)=>c},{title:n("week"),dataIndex:["activity","weekActivity"],key:"weekActivity",align:"center",render:(c,l)=>c},{title:n("month"),dataIndex:["activity","monthActivity"],key:"monthActivity",align:"center",render:(c,l)=>c},{title:n("contract"),dataIndex:["activity","contractActivity"],key:"contractActivity",align:"center",render:(c,l)=>c},{title:n("amount"),dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",render:(c,l)=>c,sorter:(c,l)=>c.totalExchangeAmount-l.totalExchangeAmount},{title:n("fee"),dataIndex:"totalFee",key:"totalFee",align:"center",render:(c,l)=>c}]}]},{title:u.jsx("span",{children:u.jsxs(St,{children:[u.jsx("span",{children:"Trustalabs"}),u.jsx(mr,{checked:Q,onChange:c=>{O(c.target.checked),localStorage.setItem("isGetTustalabsData",c.target.checked)}})]})}),key:"trustData",className:"trustData",children:[{title:n("score"),key:"score",dataIndex:["trustData","score"],align:"center",sorter:(c,l)=>c.trustData.score-l.trustData.score},{title:n("rank"),key:"rank",dataIndex:["trustData","rank"],align:"center",sorter:(c,l)=>c.trustData.rank-l.trustData.rank},{title:"Top",key:"top",dataIndex:["trustData","top"],align:"center",render:(c,l)=>c!=="-"&&c?c.toString()+"%":c,sorter:(c,l)=>c.trustData.top-l.trustData.top}]},{title:n("state"),key:"result",align:"center",render:(c,l)=>u.jsxs(St,{children:[l.result==="success"?u.jsx(et,{icon:u.jsx(gr,{}),color:"success",children:""}):null,l.result==="error"?u.jsx(Pt,{title:l.reason,children:u.jsx(et,{icon:u.jsx(pr,{}),color:"error",children:" "})}):null,l.result==="pending"?u.jsx(et,{icon:u.jsx(qt,{spin:!0}),color:"processing",children:" "}):null]})},{title:n("operation"),key:"action",align:"center",render:(c,l)=>u.jsxs(St,{size:"small",children:[u.jsx(kt,{title:n("zk_message_confirm_delete"),onConfirm:async()=>{await j(l.address)},children:u.jsx(ze,{icon:u.jsx(Qt,{})})}),u.jsx(ze,{icon:u.jsx(hr,{}),onClick:()=>{H(l.address),k(l.address).then(A=>{se(A)})}}),u.jsx(ze,{icon:u.jsx(vr,{}),onClick:()=>{ee(l.key)}})]})}],T=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:(c,l)=>u.jsx("img",{src:"/protocol/"+l.id+".png",style:{width:"20px",height:"20px"},alt:l.id})},{title:n("protocol"),dataIndex:"name",key:"name",align:"center",render:(c,l)=>u.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",children:c})},{title:"tx",dataIndex:"interactions",key:"interactions",sorter:(c,l)=>c.interactions-l.interactions,align:"center"},{title:n("last_tx"),dataIndex:"lastActivity",key:"lastActivity",align:"center",render:(c,l)=>c===""?"":new Date(c).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})},{title:n("amount"),dataIndex:"volume",key:"volume",align:"center",sorter:(c,l)=>c.volume-l.volume,defaultSortOrder:"descend",render:(c,l)=>Number(c).toFixed(2)}];return u.jsx("div",{children:u.jsxs(oo,{children:[u.jsx(ao,{open:y,onCancel:()=>p(!1)}),u.jsx(Dt,{title:R&&R.address+"  "+n("address_detail"),open:oe!==null,onCancel:()=>H(null),footer:null,width:1e3,centered:!0,bodyStyle:{height:"500px",overflow:"auto"},children:u.jsx("div",{children:R&&u.jsx(Nt,{columns:T,dataSource:R.protocols,pagination:!1,defaultSortOrder:"descend",size:"small"})})}),u.jsx(Dt,{title:n("batch_add_address"),open:f,onOk:ce,onCancel:K,okButtonProps:{loading:S},okText:"OK",cancelText:"Cancel",children:u.jsx(xt,{form:w,layout:"vertical",children:u.jsx(xt.Item,{label:n("address"),name:"addresses",rules:[{required:!0}],children:u.jsx(io,{placeholder:n("zk_msg"),style:{width:"500px",height:"200px"}})})})}),u.jsx("div",{style:{marginBottom:"50px"},children:u.jsx(yr,{spinning:U,size:"small",children:u.jsx(Nt,{rowKey:c=>c.key,rowSelection:le,dataSource:r,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:ie})})}),u.jsx("div",{className:"zks_footer",children:u.jsx(wr,{size:"small",style:{width:"100%"},children:u.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[u.jsx(ze,{type:"primary",onClick:()=>{p(!0)},size:"large",style:{width:"20%"},icon:u.jsx(la,{}),children:u.jsx("span",{style:{color:"white"},children:n("ecosystem")})}),u.jsx(ze,{type:"primary",onClick:$,size:"large",style:{width:"20%"},icon:u.jsx(br,{}),loading:t,children:n(t?"adding":"batch_add_address")}),u.jsx(ze,{type:"primary",onClick:()=>ee(),loading:S,size:"large",style:{width:"20%"},icon:u.jsx(qt,{}),children:n(S?"refreshing":"refresh_selected_address")}),u.jsx(kt,{title:n("confirm_delete")+h.length+n("address_count")+"?",onConfirm:async()=>{await B()},children:u.jsx(ze,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:u.jsx(Qt,{}),children:n("delete_selected_address")})}),u.jsx(ze,{type:"primary",icon:u.jsx(xr,{}),size:"large",style:{width:"8%"},onClick:_})]})})})]})})}export{fo as default};
