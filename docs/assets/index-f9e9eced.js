import{r as n,j as c}from"./index-c45d47ea.js";import{t as le,x as ce,y as W,w as de,S as pe,R as ge,l as me,C as H,q as ue,I as fe,a as he}from"./axios-2aba4112.js";import{j as A,m as F,r as D,a4 as xe,o as N,d as E,aB as ye,k as ve,X as Se,aM as be,aN as Ce,S as $e,x as je,M as Oe,Q as Pe}from"./EditOutlined-1424166f.js";import{T as ze}from"./index-cc876277.js";const T=n.createContext("default"),L=e=>{let{children:r,size:o}=e;const t=n.useContext(T);return n.createElement(T.Provider,{value:o||t},r)},we=e=>{const{antCls:r,componentCls:o,iconCls:t,avatarBg:a,avatarColor:p,avatarSizeBase:i,avatarSizeLG:g,avatarSizeSM:d,avatarFontSizeBase:m,avatarFontSizeLG:l,avatarFontSizeSM:u,borderRadius:f,borderRadiusLG:h,borderRadiusSM:s,lineWidth:x,lineType:O}=e,y=(v,C,j)=>({width:v,height:v,lineHeight:`${v-x*2}px`,borderRadius:"50%",[`&${o}-square`]:{borderRadius:j},[`${o}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${o}-icon`]:{fontSize:C,[`> ${t}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},D(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:p,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${x}px ${O} transparent`,["&-image"]:{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),y(i,m,f)),{["&-lg"]:Object.assign({},y(g,l,h)),["&-sm"]:Object.assign({},y(d,u,s)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ee=e=>{const{componentCls:r,avatarGroupBorderColor:o,avatarGroupSpace:t}=e;return{[`${r}-group`]:{display:"inline-flex",[`${r}`]:{borderColor:o},["> *:not(:first-child)"]:{marginInlineStart:t}}}},X=A("Avatar",e=>{const{colorTextLightSolid:r,controlHeight:o,controlHeightLG:t,controlHeightSM:a,fontSize:p,fontSizeLG:i,fontSizeXL:g,fontSizeHeading3:d,marginXS:m,colorBorderBg:l,colorTextPlaceholder:u}=e,f=F(e,{avatarBg:u,avatarColor:r,avatarSizeBase:o,avatarSizeLG:t,avatarSizeSM:a,avatarFontSizeBase:Math.round((i+g)/2),avatarFontSizeLG:d,avatarFontSizeSM:p,avatarGroupSpace:-m,avatarGroupBorderColor:l});return[we(f),Ee(f)]});var Re=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const ke=(e,r)=>{const o=n.useContext(T),[t,a]=n.useState(1),[p,i]=n.useState(!1),[g,d]=n.useState(!0),m=n.useRef(null),l=n.useRef(null),u=xe(r,m),{getPrefixCls:f}=n.useContext(N),h=()=>{if(!l.current||!m.current)return;const b=l.current.offsetWidth,$=m.current.offsetWidth;if(b!==0&&$!==0){const{gap:z=4}=e;z*2<$&&a($-z*2<b?($-z*2)/b:1)}};n.useEffect(()=>{i(!0)},[]),n.useEffect(()=>{d(!0),a(1)},[e.src]),n.useEffect(()=>{h()},[e.gap]);const s=()=>{const{onError:b}=e;(b?b():void 0)!==!1&&d(!1)},{prefixCls:x,shape:O="circle",size:y="default",src:v,srcSet:C,icon:j,className:Q,rootClassName:Y,alt:Z,draggable:J,children:I,crossOrigin:ee}=e,R=Re(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),S=y==="default"?o:y,te=Object.keys(typeof S=="object"?S||{}:{}).some(b=>["xs","sm","md","lg","xl","xxl"].includes(b)),_=le(te),re=n.useMemo(()=>{if(typeof S!="object")return{};const b=ce.find(z=>_[z]),$=S[b];return $?{width:$,height:$,lineHeight:`${$}px`,fontSize:j?$/2:18}:{}},[_,S]),P=f("avatar",x),[oe,ne]=X(P),ae=E({[`${P}-lg`]:S==="large",[`${P}-sm`]:S==="small"}),M=n.isValidElement(v),se=E(P,ae,{[`${P}-${O}`]:!!O,[`${P}-image`]:M||v&&g,[`${P}-icon`]:!!j},Q,Y,ne),ie=typeof S=="number"?{width:S,height:S,lineHeight:`${S}px`,fontSize:j?S/2:18}:{};let w;if(typeof v=="string"&&g)w=n.createElement("img",{src:v,draggable:J,srcSet:C,onError:s,alt:Z,crossOrigin:ee});else if(M)w=v;else if(j)w=j;else if(p||t!==1){const b=`scale(${t}) translateX(-50%)`,$={msTransform:b,WebkitTransform:b,transform:b},z=typeof S=="number"?{lineHeight:`${S}px`}:{};w=n.createElement(ye,{onResize:h},n.createElement("span",{className:`${P}-string`,ref:l,style:Object.assign(Object.assign({},z),$)},I))}else w=n.createElement("span",{className:`${P}-string`,style:{opacity:0},ref:l},I);return delete R.onError,delete R.gap,oe(n.createElement("span",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign({},ie),re),R.style),className:se,ref:u}),w))},Ne=n.forwardRef(ke),q=Ne,k=e=>e?typeof e=="function"?e():e:null,Be=e=>{const{componentCls:r,popoverBg:o,popoverColor:t,width:a,fontWeightStrong:p,popoverPadding:i,boxShadowSecondary:g,colorTextHeading:d,borderRadiusLG:m,zIndexPopup:l,marginXS:u,colorBgElevated:f}=e;return[{[r]:Object.assign(Object.assign({},D(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:l,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":f,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${r}-content`]:{position:"relative"},[`${r}-inner`]:{backgroundColor:o,backgroundClip:"padding-box",borderRadius:m,boxShadow:g,padding:i},[`${r}-title`]:{minWidth:a,marginBottom:u,color:d,fontWeight:p},[`${r}-inner-content`]:{color:t}})},Se(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${r}-content`]:{display:"inline-block"}}}]},Te=e=>{const{componentCls:r}=e;return{[r]:be.map(o=>{const t=e[`${o}6`];return{[`&${r}-${o}`]:{"--antd-arrow-background-color":t,[`${r}-inner`]:{backgroundColor:t},[`${r}-arrow`]:{background:"transparent"}}}})}},Ie=e=>{const{componentCls:r,lineWidth:o,lineType:t,colorSplit:a,paddingSM:p,controlHeight:i,fontSize:g,lineHeight:d,padding:m}=e,l=i-Math.round(g*d),u=l/2,f=l/2-o,h=m;return{[r]:{[`${r}-inner`]:{padding:0},[`${r}-title`]:{margin:0,padding:`${u}px ${h}px ${f}px`,borderBottom:`${o}px ${t} ${a}`},[`${r}-inner-content`]:{padding:`${p}px ${h}px`}}}},K=A("Popover",e=>{const{colorBgElevated:r,colorText:o,wireframe:t}=e,a=F(e,{popoverBg:r,popoverColor:o,popoverPadding:12});return[Be(a),Te(a),t&&Ie(a),ve(a,"zoom-big")]},e=>{let{zIndexPopupBase:r}=e;return{zIndexPopup:r+30,width:177}});var _e=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Me=(e,r,o)=>{if(!(!r&&!o))return n.createElement(n.Fragment,null,r&&n.createElement("div",{className:`${e}-title`},k(r)),n.createElement("div",{className:`${e}-inner-content`},k(o)))};function Le(e){const{hashId:r,prefixCls:o,className:t,style:a,placement:p="top",title:i,content:g,children:d}=e;return n.createElement("div",{className:E(r,o,`${o}-pure`,`${o}-placement-${p}`,t),style:a},n.createElement("div",{className:`${o}-arrow`}),n.createElement(Ce,Object.assign({},e,{className:r,prefixCls:o}),d||Me(o,i,g)))}function Ge(e){const{prefixCls:r}=e,o=_e(e,["prefixCls"]),{getPrefixCls:t}=n.useContext(N),a=t("popover",r),[p,i]=K(a);return p(n.createElement(Le,Object.assign({},o,{prefixCls:a,hashId:i})))}var We=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const He=e=>{let{title:r,content:o,prefixCls:t}=e;return!r&&!o?null:n.createElement(n.Fragment,null,r&&n.createElement("div",{className:`${t}-title`},k(r)),n.createElement("div",{className:`${t}-inner-content`},k(o)))},U=n.forwardRef((e,r)=>{const{prefixCls:o,title:t,content:a,overlayClassName:p,placement:i="top",trigger:g="hover",mouseEnterDelay:d=.1,mouseLeaveDelay:m=.1,overlayStyle:l={}}=e,u=We(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:f}=n.useContext(N),h=f("popover",o),[s,x]=K(h),O=f(),y=E(p,x);return s(n.createElement($e,Object.assign({placement:i,trigger:g,mouseEnterDelay:d,mouseLeaveDelay:m,overlayStyle:l},u,{prefixCls:h,overlayClassName:y,ref:r,overlay:n.createElement(He,{prefixCls:h,title:t,content:a}),transitionName:je(O,"zoom-big",u.transitionName),"data-popover-inject":!0})))});U._InternalPanelDoNotUseOrYouWillBeFired=Ge;const Ae=U,Fe=e=>{const{getPrefixCls:r,direction:o}=n.useContext(N),{prefixCls:t,className:a,rootClassName:p,maxCount:i,maxStyle:g,size:d}=e,m=r("avatar",t),l=`${m}-group`,[u,f]=X(m),h=E(l,{[`${l}-rtl`]:o==="rtl"},a,p,f),{children:s,maxPopoverPlacement:x="top",maxPopoverTrigger:O="hover"}=e,y=Oe(s).map((C,j)=>Pe(C,{key:`avatar-key-${j}`})),v=y.length;if(i&&i<v){const C=y.slice(0,i),j=y.slice(i,v);return C.push(n.createElement(Ae,{key:"avatar-popover-key",content:j,trigger:O,placement:x,overlayClassName:`${l}-popover`},n.createElement(q,{style:g},`+${v-i}`))),u(n.createElement(L,{size:d},n.createElement("div",{className:h,style:e.style},C)))}return u(n.createElement(L,{size:d},n.createElement("div",{className:h,style:e.style},y)))},De=Fe,V=q;V.Group=De;const Xe=V,{Search:qe}=fe,{Meta:Ke}=H,{Text:B}=ze,{Option:G}=W,Ze=()=>{const[e,r]=n.useState([]),[o,t]=n.useState(""),[a,p]=n.useState(1),[i,g]=n.useState(!1),[d,m]=n.useState("Time"),l=(s,x,O)=>{g(!0);const y=encodeURIComponent(s),v=`https://api.mirrorbeats.xyz/mirror/Mirror/search?page=${x}&keyword=${y}&sort=${O}`;he.get(v).then(C=>{console.log(C),r(C.data.data)}).catch(C=>{console.log(C)}).finally(()=>{g(!1)})},u=s=>{const x=s||"空投";t(x),l(x,a,d)},f=s=>{p(s),l(o||"空投",s,d)},h=s=>{m(s),l(o,a,s)};return c.jsxs("div",{style:{padding:"20px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[c.jsx(qe,{placeholder:"输入你想要查询的Mirror关键词",onSearch:u,enterButton:!0,style:{width:"70%",marginRight:"10px"}}),c.jsxs(W,{placeholder:"选择排序方式",defaultValue:d,style:{width:120},onChange:h,children:[c.jsx(G,{value:"Relevance",children:"Relevance"}),c.jsx(G,{value:"Time",children:"Time"})]}),c.jsx(de,{current:a,onChange:f,total:50,style:{flex:"none"}})]}),i?c.jsx(pe,{size:"large",style:{display:"block",margin:"0 auto"}}):e.length>0?c.jsx(ge,{gutter:[16,16],children:e.map(s=>c.jsx(me,{span:6,children:c.jsx("a",{href:s.link,target:"_blank",rel:"noreferrer",children:c.jsx(H,{style:{borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",transition:"0.3s",width:"100%",padding:"10px",marginBottom:"20px"},hoverable:!0,children:c.jsx(Ke,{title:c.jsx(B,{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"normal"},children:s.title}),description:c.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(B,{strong:!0,children:"作者: "}),s.nickname,c.jsx("br",{}),c.jsx(B,{strong:!0,children:"创建时间: "}),new Date(s.creat_time*1e3).toLocaleString()]}),c.jsx("div",{style:{marginLeft:"10px"},children:c.jsx(Xe,{src:s.avatar,size:64,onError:x=>{x.target.src="https://image.theblockbeats.info/icon/mirrorLogo.jpeg"}})})]})})},s.id)})}))}):c.jsx(ue,{description:"Nothing"})]})};export{Ze as default};
