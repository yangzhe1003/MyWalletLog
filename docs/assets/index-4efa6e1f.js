var ar=Object.defineProperty;var ir=(e,t,n)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kt=(e,t,n)=>(ir(e,typeof t!="symbol"?t+"":t,n),n),At=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var S=(e,t,n)=>(At(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ut=(e,t,n,r)=>(At(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Z=(e,t,n)=>(At(e,t,"access private method"),n);import{r as c,g as sr,b as cr,c as Pt,C as dt,d as En,e as vt,f as he,h as at,i as Ne,_ as X,R as Ve,T as Ke,t as lr,k as Xt,l as Ce,j as d}from"./index-04b3bc52.js";import{U as dr,S as ur,D as fr,n as Fe,e as mr}from"./save_excel-cba294db.js";import{a as $e,C as gr}from"./axios-e82197ab.js";import{a as nt,E as Pn,I as mt,b as J,c as pr,P as hr,d as vr}from"./index-53273312.js";import{g as On,m as Ot,K as Qe,a as Gt,i as _n,c as te,b as $n,C as Tn,u as _t,P as br,w as yr,d as Jt,A as et,e as wr,f as xr,L as Sr,R as Cr,h as bt,T as Kt,B as Ie,E as kr}from"./EditOutlined-e142afc2.js";import{g as jn,D as Ar,a as Ir,b as Nr,i as zr,c as gt,T as Dn,d as ue,F as Me,P as qt,e as Qt}from"./index-6f8cfe03.js";import{S as Er}from"./index-7257f1a5.js";import{L as Pr}from"./index-0bfbfb58.js";import{m as en}from"./index-916859b1.js";function Or(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const tn={};function $t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&tn[t[0]]||(typeof t[0]=="string"&&(tn[t[0]]=new Date),Or(...t))}const Mn=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function nn(e,t,n){e.loadNamespaces(t,Mn(e,n))}function rn(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,Mn(e,r))}function _r(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],o=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(l,f)=>{const g=t.services.backendConnector.state[`${l}|${f}`];return g===-1||g===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||i(r,e)&&(!o||i(a,e)))}function $r(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?($t("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(o,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}):_r(e,t,n)}const Tr=c.createContext();class jr{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dr=(e,t)=>{const n=c.useRef();return c.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current};function Ln(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:o}=c.useContext(Tr)||{},a=n||r||cr();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new jr),!a){$t("You will need to pass in an i18next instance by using initReactI18next");const I=(x,z)=>typeof z=="string"?z:z&&typeof z=="object"&&typeof z.defaultValue=="string"?z.defaultValue:Array.isArray(x)?x[x.length-1]:x,E=[I,{},!1];return E.t=I,E.i18n={},E.ready=!1,E}a.options.react&&a.options.react.wait!==void 0&&$t("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...sr(),...a.options.react,...t},{useSuspense:l,keyPrefix:f}=i;let g=e||o||a.options&&a.options.defaultNS;g=typeof g=="string"?[g]:g||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(g);const m=(a.isInitialized||a.initializedStoreOnce)&&g.every(I=>$r(I,a,i));function p(){return a.getFixedT(t.lng||null,i.nsMode==="fallback"?g:g[0],f)}const[h,v]=c.useState(p);let y=g.join();t.lng&&(y=`${t.lng}${y}`);const C=Dr(y),b=c.useRef(!0);c.useEffect(()=>{const{bindI18n:I,bindI18nStore:E}=i;b.current=!0,!m&&!l&&(t.lng?rn(a,t.lng,g,()=>{b.current&&v(p)}):nn(a,g,()=>{b.current&&v(p)})),m&&C&&C!==y&&b.current&&v(p);function x(){b.current&&v(p)}return I&&a&&a.on(I,x),E&&a&&a.store.on(E,x),()=>{b.current=!1,I&&a&&I.split(" ").forEach(z=>a.off(z,x)),E&&a&&E.split(" ").forEach(z=>a.store.off(z,x))}},[a,y]);const k=c.useRef(!0);c.useEffect(()=>{b.current&&!k.current&&v(p),k.current=!1},[a,f]);const A=[h,a,m];if(A.t=h,A.i18n=a,A.ready=m,m||!m&&!l)return A;throw new Promise(I=>{t.lng?rn(a,t.lng,g,()=>I()):nn(a,g,()=>I())})}const Mr=new Qe("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Lr=new Qe("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Rr=new Qe("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),Fr=new Qe("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Br=new Qe("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Ur=new Qe("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),Hr=e=>{const{componentCls:t,iconCls:n,antCls:r,badgeFontHeight:o,badgeShadowSize:a,badgeHeightSm:i,motionDurationSlow:l,badgeStatusSize:f,marginXS:g,badgeRibbonOffset:m}=e,p=`${r}-scroll-number`,h=`${r}-ribbon`,v=`${r}-ribbon-wrapper`,y=Gt(e,(b,k)=>{let{darkColor:A}=k;return{[`${t}-color-${b}`]:{background:A}}}),C=Gt(e,(b,k)=>{let{darkColor:A}=k;return{[`&${h}-color-${b}`]:{background:A,color:A}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Pt(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:i,height:i,fontSize:e.badgeFontSizeSm,lineHeight:`${i}px`,borderRadius:i/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`},[`${t}-dot${p}`]:{transition:`background ${l}`},[`${t}-count, ${t}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`${n}-spin`]:{animationName:Ur,animationDuration:e.motionDurationMid,animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:f,height:f,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:a,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Mr,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:g,color:e.colorText,fontSize:e.fontSize}}}),y),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:Lr,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:Rr,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:Fr,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:Br,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${t}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${p}`]:{overflow:"hidden",[`${p}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${v}`]:{position:"relative"},[`${h}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Pt(e)),{position:"absolute",top:g,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${o}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${h}-text`]:{color:e.colorTextLightSolid},[`${h}-corner`]:{position:"absolute",top:"100%",width:m,height:m,color:"currentcolor",border:`${m/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),C),{[`&${h}-placement-end`]:{insetInlineEnd:-m,borderEndEndRadius:0,[`${h}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${h}-placement-start`]:{insetInlineStart:-m,borderEndStartRadius:0,[`${h}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Rn=On("Badge",e=>{const{fontSize:t,lineHeight:n,fontSizeSM:r,lineWidth:o,marginXS:a,colorBorderBg:i}=e,l=Math.round(t*n),f=o,g="auto",m=l-2*f,p=e.colorBgContainer,h="normal",v=r,y=e.colorError,C=e.colorErrorHover,b=t,k=r/2,A=r,I=r/2,E=Ot(e,{badgeFontHeight:l,badgeShadowSize:f,badgeZIndex:g,badgeHeight:m,badgeTextColor:p,badgeFontWeight:h,badgeFontSize:v,badgeColor:y,badgeColorHover:C,badgeShadowColor:i,badgeHeightSm:b,badgeDotSize:k,badgeFontSizeSm:A,badgeStatusSize:I,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[Hr(E)]}),Zr=e=>{let{className:t,prefixCls:n,style:r,color:o,children:a,text:i,placement:l="end"}=e;const{getPrefixCls:f,direction:g}=c.useContext(dt),m=f("ribbon",n),p=_n(o,!1),h=te(m,`${m}-placement-${l}`,{[`${m}-rtl`]:g==="rtl",[`${m}-color-${o}`]:p},t),[v,y]=Rn(m),C={},b={};return o&&!p&&(C.background=o,b.color=o),v(c.createElement("div",{className:te(`${m}-wrapper`,y)},a,c.createElement("div",{className:te(h,y),style:Object.assign(Object.assign({},C),r)},c.createElement("span",{className:`${m}-text`},i),c.createElement("div",{className:`${m}-corner`,style:b}))))},Vr=Zr;function on(e){let{prefixCls:t,value:n,current:r,offset:o=0}=e,a;return o&&(a={position:"absolute",top:`${o}00%`,left:0}),c.createElement("span",{style:a,className:te(`${t}-only-unit`,{current:r})},n)}function Wr(e,t,n){let r=e,o=0;for(;(r+10)%10!==t;)r+=n,o+=n;return o}function Yr(e){const{prefixCls:t,count:n,value:r}=e,o=Number(r),a=Math.abs(n),[i,l]=c.useState(o),[f,g]=c.useState(a),m=()=>{l(o),g(a)};c.useEffect(()=>{const v=setTimeout(()=>{m()},1e3);return()=>{clearTimeout(v)}},[o]);let p,h;if(i===o||Number.isNaN(o)||Number.isNaN(i))p=[c.createElement(on,Object.assign({},e,{key:o,current:!0}))],h={transition:"none"};else{p=[];const v=o+10,y=[];for(let k=o;k<=v;k+=1)y.push(k);const C=y.findIndex(k=>k%10===i);p=y.map((k,A)=>{const I=k%10;return c.createElement(on,Object.assign({},e,{key:k,value:I,offset:A-C,current:A===C}))});const b=f<a?1:-1;h={transform:`translateY(${-Wr(i,o,b)}00%)`}}return c.createElement("span",{className:`${t}-only`,style:h,onTransitionEnd:m},p)}var Xr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Gr=c.forwardRef((e,t)=>{var{prefixCls:n,count:r,className:o,motionClassName:a,style:i,title:l,show:f,component:g="sup",children:m}=e,p=Xr(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:h}=c.useContext(dt),v=h("scroll-number",n),y=Object.assign(Object.assign({},p),{"data-show":f,style:i,className:te(v,o,a),title:l});let C=r;if(r&&Number(r)%1===0){const b=String(r).split("");C=b.map((k,A)=>c.createElement(Yr,{prefixCls:v,count:Number(r),value:k,key:b.length-A}))}return i&&i.borderColor&&(y.style=Object.assign(Object.assign({},i),{boxShadow:`0 0 0 1px ${i.borderColor} inset`})),m?$n(m,b=>({className:te(`${v}-custom-component`,b==null?void 0:b.className,a)})):c.createElement(g,Object.assign({},y,{ref:t}),C)}),Jr=Gr;var Kr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const qr=(e,t)=>{const{prefixCls:n,scrollNumberPrefixCls:r,children:o,status:a,text:i,color:l,count:f=null,overflowCount:g=99,dot:m=!1,size:p="default",title:h,offset:v,style:y,className:C,rootClassName:b,showZero:k=!1}=e,A=Kr(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:I,direction:E}=c.useContext(dt),x=I("badge",n),[z,ie]=Rn(x),ne=f>g?`${g}+`:f,j=ne==="0"||ne===0,K=f===null||j&&!k,V=(a!=null||l!=null)&&K,q=m&&!j,F=q?"":ne,D=c.useMemo(()=>(F==null||F===""||j&&!k)&&!q,[F,j,k,q]),W=c.useRef(f);D||(W.current=f);const $=W.current,B=c.useRef(F);D||(B.current=F);const U=B.current,ce=c.useRef(q);D||(ce.current=q);const Y=c.useMemo(()=>{if(!v)return Object.assign({},y);const oe={marginTop:v[1]};return E==="rtl"?oe.left=parseInt(v[0],10):oe.right=-parseInt(v[0],10),Object.assign(Object.assign({},oe),y)},[E,v,y]),P=h??(typeof $=="string"||typeof $=="number"?$:void 0),le=D||!i?null:c.createElement("span",{className:`${x}-status-text`},i),H=!$||typeof $!="object"?void 0:$n($,oe=>({style:Object.assign(Object.assign({},Y),oe.style)})),re=_n(l,!1),Q=te({[`${x}-status-dot`]:V,[`${x}-status-${a}`]:!!a,[`${x}-color-${l}`]:re}),ee={};l&&!re&&(ee.color=l,ee.background=l);const be=te(x,{[`${x}-status`]:V,[`${x}-not-a-wrapper`]:!o,[`${x}-rtl`]:E==="rtl"},C,b,ie);if(!o&&V){const oe=Y.color;return z(c.createElement("span",Object.assign({},A,{className:be,style:Y}),c.createElement("span",{className:Q,style:ee}),i&&c.createElement("span",{style:{color:oe},className:`${x}-status-text`},i)))}return z(c.createElement("span",Object.assign({ref:t},A,{className:be}),o,c.createElement(Tn,{visible:!D,motionName:`${x}-zoom`,motionAppear:!1,motionDeadline:1e3},oe=>{let{className:de,ref:s}=oe;const u=I("scroll-number",r),w=ce.current,L=te({[`${x}-dot`]:w,[`${x}-count`]:!w,[`${x}-count-sm`]:p==="small",[`${x}-multiple-words`]:!w&&U&&U.toString().length>1,[`${x}-status-${a}`]:!!a,[`${x}-color-${l}`]:re});let O=Object.assign({},Y);return l&&!re&&(O=O||{},O.background=l),c.createElement(Jr,{prefixCls:u,show:!D,motionClassName:de,className:L,count:U,title:P,style:O,key:"scrollNumber",ref:s},H)}),le))},Fn=c.forwardRef(qr);Fn.Ribbon=Vr;const Qr=Fn;var eo=["visible","onVisibleChange","getContainer","current","countRender","onChange"],Bt=c.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),to=Bt.Provider;function It(e,t){if(t!==void 0){var n=e.indexOf(t);if(n!==-1)return n}}var no=function(t){var n=t.previewPrefixCls,r=n===void 0?"rc-image-preview":n,o=t.children,a=t.icons,i=a===void 0?{}:a,l=t.preview,f=En(l)==="object"?l:{},g=f.visible,m=g===void 0?void 0:g,p=f.onVisibleChange,h=p===void 0?void 0:p,v=f.getContainer,y=v===void 0?void 0:v,C=f.current,b=C===void 0?0:C,k=f.countRender,A=k===void 0?void 0:k,I=f.onChange,E=I===void 0?void 0:I,x=vt(f,eo),z=c.useState(new Map),ie=he(z,2),ne=ie[0],j=ie[1],K=Array.from(ne.keys()),V=c.useRef(),q=_t(void 0,{onChange:function(s,u){V.current!==void 0&&(E==null||E(It(K,s),It(K,u))),V.current=u}}),F=he(q,2),D=F[0],W=F[1],$=_t(!!m,{value:m,onChange:function(s,u){h==null||h(s,u,It(K,D)),V.current=s?D:void 0}}),B=he($,2),U=B[0],ce=B[1],Y=c.useState(null),P=he(Y,2),le=P[0],H=P[1],re=m!==void 0,Q=K[b],ee=new Map(Array.from(ne).filter(function(de){var s=he(de,2),u=s[1].canPreview;return!!u}).map(function(de){var s=he(de,2),u=s[0],w=s[1].url;return[u,w]})),be=function(s,u){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,L=function(){j(function(R){var ae=new Map(R),_=ae.delete(s);return _?ae:R})};return j(function(O){return new Map(O).set(s,{url:u,canPreview:w})}),L},oe=function(s){s.stopPropagation(),ce(!1),H(null)};return c.useEffect(function(){W(Q)},[Q]),c.useEffect(function(){!U&&re&&W(Q)},[Q,re,U]),c.createElement(to,{value:{isPreviewGroup:!0,previewUrls:ee,setPreviewUrls:j,current:D,setCurrent:W,setShowPreview:ce,setMousePosition:H,registerImage:be}},o,c.createElement(Bn,at({"aria-hidden":!U,visible:U,prefixCls:r,onClose:oe,mousePosition:le,src:ee.get(D),icons:i,getContainer:y,countRender:A},x)))},pt=1,ht=50,rt=1,ro=1,oo=function(t){var n,r=t.visible,o=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,l=t.rootClassName,f=t.icons,g=t.countRender,m=t.showSwitch,p=t.showProgress,h=t.current,v=t.count,y=t.scale,C=t.onSwitchLeft,b=t.onSwitchRight,k=t.onClose,A=t.onZoomIn,I=t.onZoomOut,E=t.onRotateRight,x=t.onRotateLeft,z=t.onFlipX,ie=t.onFlipY,ne=f.rotateLeft,j=f.rotateRight,K=f.zoomIn,V=f.zoomOut,q=f.close,F=f.left,D=f.right,W=f.flipX,$=f.flipY,B="".concat(i,"-operations-operation"),U="".concat(i,"-operations-icon"),ce=[{icon:q,onClick:k,type:"close"},{icon:K,onClick:A,type:"zoomIn",disabled:y===ht},{icon:V,onClick:I,type:"zoomOut",disabled:y===pt},{icon:j,onClick:E,type:"rotateRight"},{icon:ne,onClick:x,type:"rotateLeft"},{icon:W,onClick:z,type:"flipX"},{icon:$,onClick:ie,type:"flipY"}],Y=c.createElement(c.Fragment,null,m&&c.createElement(c.Fragment,null,c.createElement("div",{className:te("".concat(i,"-switch-left"),Ne({},"".concat(i,"-switch-left-disabled"),h===0)),onClick:C},F),c.createElement("div",{className:te("".concat(i,"-switch-right"),Ne({},"".concat(i,"-switch-right-disabled"),h===v-1)),onClick:b},D)),c.createElement("ul",{className:"".concat(i,"-operations")},p&&c.createElement("li",{className:"".concat(i,"-operations-progress")},(n=g==null?void 0:g(h+1,v))!==null&&n!==void 0?n:"".concat(h+1," / ").concat(v)),ce.map(function(P){var le,H=P.icon,re=P.onClick,Q=P.type,ee=P.disabled;return c.createElement("li",{className:te(B,(le={},Ne(le,"".concat(i,"-operations-operation-").concat(Q),!0),Ne(le,"".concat(i,"-operations-operation-disabled"),!!ee),le)),onClick:re,key:Q},c.isValidElement(H)?c.cloneElement(H,{className:U}):H)})));return c.createElement(Tn,{visible:r,motionName:o},function(P){var le=P.className,H=P.style;return c.createElement(br,{open:!0,getContainer:a??document.body},c.createElement("div",{className:te("".concat(i,"-operations-wrapper"),le,l),style:H},Y))})},an={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function ao(e){var t=c.useRef(null),n=c.useRef([]),r=c.useState(an),o=he(r,2),a=o[0],i=o[1],l=function(){i(an)},f=function(p){t.current===null&&(n.current=[],t.current=yr(function(){i(function(h){var v=h;return n.current.forEach(function(y){v=X(X({},v),y)}),t.current=null,v})})),n.current.push(X(X({},a),p))},g=function(p,h,v){var y=e.current,C=y.width,b=y.height,k=y.offsetWidth,A=y.offsetHeight,I=y.offsetLeft,E=y.offsetTop,x=p,z=a.scale*p;z>ht?(x=ht/a.scale,z=ht):z<pt&&(x=pt/a.scale,z=pt);var ie=h??innerWidth/2,ne=v??innerHeight/2,j=x-1,K=j*C*.5,V=j*b*.5,q=j*(ie-a.x-I),F=j*(ne-a.y-E),D=a.x-(q-K),W=a.y-(F-V);if(p<1&&z===1){var $=k*z,B=A*z,U=jn(),ce=U.width,Y=U.height;$<=ce&&B<=Y&&(D=0,W=0)}f({x:D,y:W,scale:z})};return{transform:a,resetTransform:l,updateTransform:f,dispatchZoomChange:g}}function sn(e,t,n,r){var o=t+n,a=(n-r)/2;if(n>r){if(t>0)return Ne({},e,a);if(t<0&&o<r)return Ne({},e,-a)}else if(t<0||o>r)return Ne({},e,t<0?a:-a);return{}}function io(e,t,n,r){var o=jn(),a=o.width,i=o.height,l=null;return e<=a&&t<=i?l={x:0,y:0}:(e>a||t>i)&&(l=X(X({},sn("x",n,e,a)),sn("y",r,t,i))),l}var so=["prefixCls","src","alt","onClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],Bn=function(t){var n=t.prefixCls,r=t.src,o=t.alt,a=t.onClose,i=t.visible,l=t.icons,f=l===void 0?{}:l,g=t.rootClassName,m=t.getContainer,p=t.countRender,h=t.scaleStep,v=h===void 0?.5:h,y=t.transitionName,C=y===void 0?"zoom":y,b=t.maskTransitionName,k=b===void 0?"fade":b,A=vt(t,so),I=c.useRef(),E=c.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),x=c.useState(!1),z=he(x,2),ie=z[0],ne=z[1],j=c.useContext(Bt),K=j.previewUrls,V=j.current,q=j.isPreviewGroup,F=j.setCurrent,D=K.size,W=Array.from(K.keys()),$=W.indexOf(V),B=q?K.get(V):r,U=q&&D>1,ce=q&&D>=1,Y=ao(I),P=Y.transform,le=Y.resetTransform,H=Y.updateTransform,re=Y.dispatchZoomChange,Q=P.rotate,ee=P.scale,be=te(Ne({},"".concat(n,"-moving"),ie)),oe=function(){le()},de=function(){re(rt+v)},s=function(){re(rt-v)},u=function(){H({rotate:Q+90})},w=function(){H({rotate:Q-90})},L=function(){H({flipX:!P.flipX})},O=function(){H({flipY:!P.flipY})},R=function(N){N.preventDefault(),N.stopPropagation(),$>0&&F(W[$-1])},ae=function(N){N.preventDefault(),N.stopPropagation(),$<D-1&&F(W[$+1])},_=function(){if(i&&ie){ne(!1);var N=E.current,ye=N.transformX,ze=N.transformY,Ee=P.x!==ye&&P.y!==ze;if(!Ee)return;var Pe=I.current.offsetWidth*ee,je=I.current.offsetHeight*ee,tt=I.current.getBoundingClientRect(),xt=tt.left,St=tt.top,Ze=Q%180!==0,De=io(Ze?je:Pe,Ze?Pe:je,xt,St);De&&H(X({},De))}},ge=function(N){N.button===0&&(N.preventDefault(),N.stopPropagation(),E.current={deltaX:N.pageX-P.x,deltaY:N.pageY-P.y,transformX:P.x,transformY:P.y},ne(!0))},G=function(N){i&&ie&&H({x:N.pageX-E.current.deltaX,y:N.pageY-E.current.deltaY})},Te=function(N){if(!(!i||N.deltaY==0)){var ye=Math.abs(N.deltaY/100),ze=Math.min(ye,ro),Ee=rt+ze*v;N.deltaY>0&&(Ee=rt/Ee),re(Ee,N.clientX,N.clientY)}},pe=c.useCallback(function(M){!i||!U||(M.keyCode===Jt.LEFT?$>0&&F(W[$-1]):M.keyCode===Jt.RIGHT&&$<D-1&&F(W[$+1]))},[$,D,W,F,U,i]),He=function(N){i&&(ee!==1?H({x:0,y:0,scale:1}):re(rt+v,N.clientX,N.clientY))};return c.useEffect(function(){var M,N,ye=nt(window,"mouseup",_,!1),ze=nt(window,"mousemove",G,!1),Ee=nt(window,"keydown",pe,!1);try{window.top!==window.self&&(M=nt(window.top,"mouseup",_,!1),N=nt(window.top,"mousemove",G,!1))}catch{}return function(){var Pe,je;ye.remove(),ze.remove(),Ee.remove(),(Pe=M)===null||Pe===void 0||Pe.remove(),(je=N)===null||je===void 0||je.remove()}},[i,ie,pe]),Ve.createElement(Ve.Fragment,null,Ve.createElement(Ar,at({transitionName:C,maskTransitionName:k,closable:!1,keyboard:!0,prefixCls:n,onClose:a,visible:i,wrapClassName:be,rootClassName:g,getContainer:m},A,{afterClose:oe}),Ve.createElement("div",{className:"".concat(n,"-img-wrapper")},Ve.createElement("img",{width:t.width,height:t.height,onWheel:Te,onMouseDown:ge,onDoubleClick:He,ref:I,className:"".concat(n,"-img"),src:B,alt:o,style:{transform:"translate3d(".concat(P.x,"px, ").concat(P.y,"px, 0) scale3d(").concat(P.flipX?"-":"").concat(ee,", ").concat(P.flipY?"-":"").concat(ee,", 1) rotate(").concat(Q,"deg)")}}))),Ve.createElement(oo,{visible:i,maskTransitionName:k,getContainer:m,prefixCls:n,rootClassName:g,icons:f,countRender:p,showSwitch:U,showProgress:ce,current:$,count:D,scale:ee,onSwitchLeft:R,onSwitchRight:ae,onZoomIn:de,onZoomOut:s,onRotateRight:u,onRotateLeft:w,onFlipX:L,onFlipY:O,onClose:a}))},co=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],lo=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],cn=0;function uo(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}var yt=function(t){var n,r=t.src,o=t.alt,a=t.onPreviewClose,i=t.prefixCls,l=i===void 0?"rc-image":i,f=t.previewPrefixCls,g=f===void 0?"".concat(l,"-preview"):f,m=t.placeholder,p=t.fallback,h=t.width,v=t.height,y=t.style,C=t.preview,b=C===void 0?!0:C,k=t.className,A=t.onClick,I=t.onError,E=t.wrapperClassName,x=t.wrapperStyle,z=t.rootClassName,ie=t.crossOrigin,ne=t.decoding,j=t.loading,K=t.referrerPolicy,V=t.sizes,q=t.srcSet,F=t.useMap,D=t.draggable,W=vt(t,co),$=m&&m!==!0,B=En(b)==="object"?b:{},U=B.src,ce=B.visible,Y=ce===void 0?void 0:ce,P=B.onVisibleChange,le=P===void 0?a:P,H=B.getContainer,re=H===void 0?void 0:H,Q=B.mask,ee=B.maskClassName,be=B.icons,oe=B.scaleStep,de=vt(B,lo),s=U??r,u=Y!==void 0,w=_t(!!Y,{value:Y,onChange:le}),L=he(w,2),O=L[0],R=L[1],ae=c.useState($?"loading":"normal"),_=he(ae,2),ge=_[0],G=_[1],Te=c.useState(null),pe=he(Te,2),He=pe[0],M=pe[1],N=ge==="error",ye=c.useContext(Bt),ze=ye.isPreviewGroup,Ee=ye.setCurrent,Pe=ye.setShowPreview,je=ye.setMousePosition,tt=ye.registerImage,xt=c.useState(function(){return cn+=1,cn}),St=he(xt,1),Ze=St[0],De=!!b,Ct=c.useRef(!1),Ht=function(){G("normal")},er=function(ke){if(!u){var Vt=Ir(ke.target),Wt=Vt.left,Yt=Vt.top;ze?(Ee(Ze),je({x:Wt,y:Yt})):M({x:Wt,y:Yt})}ze?Pe(!0):R(!0),A==null||A(ke)},tr=function(ke){ke.stopPropagation(),R(!1),u||M(null)},nr=function(ke){Ct.current=!1,ge==="loading"&&ke!=null&&ke.complete&&(ke.naturalWidth||ke.naturalHeight)&&(Ct.current=!0,Ht())};c.useEffect(function(){uo(s).then(function(Re){Re||G("error")})},[s]),c.useEffect(function(){var Re=tt(Ze,s);return Re},[]),c.useEffect(function(){tt(Ze,s,De)},[s,De]),c.useEffect(function(){N&&G("normal"),$&&!Ct.current&&G("loading")},[r]);var rr=te(l,E,z,Ne({},"".concat(l,"-error"),N)),or=N&&p?p:s,Zt={crossOrigin:ie,decoding:ne,draggable:D,loading:j,referrerPolicy:K,sizes:V,srcSet:q,useMap:F,onError:I,alt:o,className:te("".concat(l,"-img"),Ne({},"".concat(l,"-img-placeholder"),m===!0),k),style:X({height:v},y)};return c.createElement(c.Fragment,null,c.createElement("div",at({},W,{className:rr,onClick:De?er:A,style:X({width:h,height:v},x)}),c.createElement("img",at({},Zt,{ref:nr},N&&p?{src:p}:{onLoad:Ht,src:r},{width:h,height:v})),ge==="loading"&&c.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},m),Q&&De&&c.createElement("div",{className:te("".concat(l,"-mask"),ee),style:{display:((n=Zt.style)===null||n===void 0?void 0:n.display)==="none"?"none":void 0}},Q)),!ze&&De&&c.createElement(Bn,at({"aria-hidden":!O,visible:O,prefixCls:g,onClose:tr,mousePosition:He,src:or,alt:o,getContainer:re,icons:be,scaleStep:oe,rootClassName:z},de)))};yt.PreviewGroup=no;yt.displayName="Image";var fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const mo=fo;var Un=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:mo}))};Un.displayName="RotateLeftOutlined";const go=c.forwardRef(Un);var po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const ho=po;var Hn=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:ho}))};Hn.displayName="RotateRightOutlined";const vo=c.forwardRef(Hn);var bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const yo=bo;var Zn=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:yo}))};Zn.displayName="SwapOutlined";const ln=c.forwardRef(Zn);var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const xo=wo;var Vn=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:xo}))};Vn.displayName="ZoomInOutlined";const So=c.forwardRef(Vn);var Co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const ko=Co;var Wn=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:ko}))};Wn.displayName="ZoomOutOutlined";const Ao=c.forwardRef(Wn),Tt=e=>({position:e||"absolute",inset:0}),Io=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:o,prefixCls:a}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new Ke("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${a}-mask-info`]:Object.assign(Object.assign({},lr),{padding:`0 ${r}px`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},No=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,imagePreviewOperationDisabledColor:o,motionDurationSlow:a}=e,i=new Ke(n).setAlpha(.1),l=i.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},Pt(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:i.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${a}`,"&:hover":{background:l.toRgbString()},"&-disabled":{color:o,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}})}},zo=e=>{const{modalMaskBg:t,iconCls:n,imagePreviewOperationDisabledColor:r,previewCls:o,zIndexPopup:a,motionDurationSlow:i}=e,l=new Ke(t).setAlpha(.1),f=l.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:a+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${i}`,pointerEvents:"auto","&:hover":{background:f.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.imagePreviewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},Eo=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:o}=e;return[{[`${o}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Tt()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},Tt()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[No(e),zo(e)]}]},Po=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Io(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Tt())}}},Oo=e=>{const{previewCls:t}=e;return{[`${t}-root`]:wr(e,"zoom"),["&"]:zr(e,!0)}},Yn=On("Image",e=>{const t=new Ke(e.colorTextLightSolid),n=`${e.componentCls}-preview`,r=Ot(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new Ke(t).setAlpha(.25).toRgbString(),modalMaskBg:new Ke("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:e.fontSizeIcon*1.5,imagePreviewSwitchSize:e.controlHeightLG});return[Po(r),Eo(r),Nr(Ot(r,{componentCls:n})),Oo(r)]},e=>({zIndexPopup:e.zIndexPopupBase+80}));var _o=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Xn={rotateLeft:c.createElement(go,null),rotateRight:c.createElement(vo,null),zoomIn:c.createElement(So,null),zoomOut:c.createElement(Ao,null),close:c.createElement(xr,null),left:c.createElement(Sr,null),right:c.createElement(Cr,null),flipX:c.createElement(ln,null),flipY:c.createElement(ln,{rotate:90})},$o=e=>{var{previewPrefixCls:t,preview:n}=e,r=_o(e,["previewPrefixCls","preview"]);const{getPrefixCls:o}=c.useContext(dt),a=o("image",t),i=`${a}-preview`,l=o(),[f,g]=Yn(a),m=c.useMemo(()=>{var p;if(n===!1)return n;const h=typeof n=="object"?n:{},v=te(g,(p=h.rootClassName)!==null&&p!==void 0?p:"");return Object.assign(Object.assign({},h),{transitionName:bt(l,"zoom",h.transitionName),maskTransitionName:bt(l,"fade",h.maskTransitionName),rootClassName:v})},[n]);return f(c.createElement(yt.PreviewGroup,Object.assign({preview:m,previewPrefixCls:i,icons:Xn},r)))},To=$o;var dn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Gn=e=>{var{prefixCls:t,preview:n,rootClassName:r}=e,o=dn(e,["prefixCls","preview","rootClassName"]);const{getPrefixCls:a,locale:i=Xt,getPopupContainer:l}=c.useContext(dt),f=a("image",t),g=a(),m=i.Image||Xt.Image,[p,h]=Yn(f),v=te(r,h),y=c.useMemo(()=>{if(n===!1)return n;const C=typeof n=="object"?n:{},{getContainer:b}=C,k=dn(C,["getContainer"]);return Object.assign(Object.assign({mask:c.createElement("div",{className:`${f}-mask-info`},c.createElement(Pn,null),m==null?void 0:m.preview),icons:Xn},k),{getContainer:b||l,transitionName:bt(g,"zoom",C.transitionName),maskTransitionName:bt(g,"fade",C.maskTransitionName)})},[n,m]);return p(c.createElement(yt,Object.assign({prefixCls:`${f}`,preview:y,rootClassName:v},o)))};Gn.PreviewGroup=To;const jo=Gn;var Do={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const Mo=Do;var Jn=function(t,n){return c.createElement(et,X(X({},t),{},{ref:n,icon:Mo}))};Jn.displayName="AppstoreAddOutlined";const Lo=c.forwardRef(Jn),Ro=async()=>{try{const e={method:"GET",url:"https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd"};return(await $e.request(e)).data.ethereum.usd}catch(e){return console.log(e),0}};const Fo=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/address/${e}/transfers?limit=100&page=1`;const n=[];for(;;)try{const r=await $e.get(t);if(r.status===200){const o=r.data.items;if(n.push(...o),r.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+r.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(r){console.error("Error occurred while making the request:",r);break}return n},Bo=async e=>{const t=await $e.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),n={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(t.data.result)};e.forEach(r=>{r.transfers.forEach(o=>{o.token.price=n[o.token.symbol.toUpperCase()]}),r.transfers=r.transfers.filter(o=>o.token.price!==void 0)})},Uo=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${e}&limit=100&page=1`;const n=[],r=await Ro();for(;;)try{const a=await $e.get(t);if(a.status===200){if(a.data.items.forEach(l=>{const{hash:f,to:g,from:m,data:p,isL1Originated:h,fee:v,receivedAt:y,value:C}=l;n.push({hash:f,to:g,from:m,data:p,isL1Originated:h,fee:v,receivedAt:y,transfers:[],ethValue:parseInt(r),value:C})}),a.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(a){console.error("Error occurred while making the request:",a);break}return(await Fo(e)).forEach(a=>{a.token!==null&&n.forEach(i=>{i.hash===a.transactionHash&&i.transfers.push(a)})}),await Bo(n),n},Ho=async e=>{let t=0;return e.forEach(n=>{const r=parseInt(n.fee,16)*1e-18*n.ethValue;t+=r}),t.toFixed(2)},Zo=e=>{let t=0;return e.forEach(n=>{const r=n.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(r.length===0)return;const o=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price;t+=o}),t.toFixed(2)},Vo=e=>{const t=(new Date().getTime()-new Date(e).getTime())/1e3;if(t<60)return Ce.t("secondsAgo",{count:Math.round(t)});const n=t/60;if(n<60)return Ce.t("minutesAgo",{count:Math.round(n)});const r=n/60;if(r<24)return Ce.t("hoursAgo",{count:Math.round(r)});const o=r/24;return Ce.t("daysAgo",{count:Math.round(o)})},Wo=e=>{const t=e.getFullYear(),n=new Date(t,0,1),r=(e.getDay()+6)%7,o=Math.floor((e.getTime()-n.getTime())/864e5),a=Math.floor((o+n.getDay()-r)/7);return`${t}-${a}`},Yo=(e,t)=>{const n=new Set,r=new Set,o=new Set,a=new Set;return t.forEach(i=>{if(i.from.toLowerCase()!==e.toLowerCase())return;const l=new Date(i.receivedAt),f=l.getFullYear(),g=l.getMonth(),m=l.getDate(),p=Wo(l);n.add(`${f}-${g}-${m}`),r.add(`${f}-${p}`),o.add(`${f}-${g}`),a.add(i.to)}),{dayActivity:n.size,weekActivity:r.size,monthActivity:o.size,contractActivity:a.size}},Xo=async(e,t)=>{if(t.length===0)return{dayActivity:0,weekActivity:0,monthActivity:0,contractActivity:0,zks2_last_tx:Ce.t("noTransaction")};const{dayActivity:n,weekActivity:r,monthActivity:o,contractActivity:a}=Yo(e,t),i=t[0],l=Vo(i.receivedAt)||Ce.t("noTransaction");return{dayActivity:n,weekActivity:r,monthActivity:o,contractActivity:a,zks2_last_tx:l}},Go=e=>{const t=e.getFullYear(),n=new Date(t,0,1),r=(e.getDay()+6)%7,o=Math.floor((e.getTime()-n.getTime())/864e5),a=Math.floor((o+n.getDay()-r)/7);return`${t}-${a}`},me=(e,t,n,r=[])=>{const o=new Set,a=new Set,i=new Set;return t.forEach(l=>{if(n!=="zksynceraportal"&&!r.includes(l.to.toLowerCase())&&!r.includes(l.from.toLowerCase())||n==="zksynceraportal"&&!l.data.startsWith("0x51cff8d9")&&!(l.to.toLowerCase()===e.toLowerCase()&&l.isL1Originated))return;const f=new Date(l.receivedAt),g=f.getFullYear(),m=f.getMonth(),p=f.getDate(),h=Go(f);o.add(`${g}-${m}-${p}`),a.add(`${g}-${h}`),i.add(`${g}-${m}`)}),{days:o.size,weeks:a.size,months:i.size}},un="0x2da10a1e27bf85cedd8ffb1abbe97e53391c0295",fn=["0x80115c708e12edd42e504c1cd52aea96c547c05c","0x176b23f1ddfeedd10fc250b8f769362492ef810b","0x4e7d2e3f40998daeb59a316148bfbf8efd1f7f3c","0xae092fcec5fd04836b12e87da0d7ed3a707b38b0"],Jo={getProtocolsState:(e,t)=>{const n={name:"SyncSwap",id:"syncswap",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://syncswap.xyz/"};return e.forEach(r=>{if(un.includes(r.to.toLowerCase())||fn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,fn.concat([un])).days,n}},mn=["0xd2ca21df45479824f954a6e1759d436a57d63faf","0x1f090f91ee09768ca36dcd52640f4a5eae146555","0xc523df658dbec88dc03fb23a703bcbd7ffb5ea01","0x116a4a5ed4c7d5712e109d4188e17616d8e5784a","0x8d123a2a0a7c98555931ceda6917b865b7345164"],Ko={getProtocolsState:(e,t)=>{const n={name:"Goal3",id:"goal3",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://beta.goal3.xyz/",tag:"Gasless"};return e.forEach(r=>{if(mn.includes(r.to.toLowerCase())){if(r.data.startsWith("0xbd95e4f1")){const o=parseInt(r.data.slice(-64),16)*1e-6;n.volume+=o}else{const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}n.interactions+=1,n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt)}}),n.activeDays=me(t,e,n.id,mn).days,n}},gn=["0x7b4872e2096ec9410b6b8c8b7d039589e6ee8022","0xaf08a9d918f16332f22cf8dc9abe9d9e14ddcbc2"],qo={getProtocolsState:(e,t)=>{const n={name:"Holdstation",id:"holdstation",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://holdstation.exchange/"};return e.forEach(r=>{if(gn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,gn).days,n}},pn=["0x33d9936b7b7bc155493446b5e6ddc0350eb83aec","0x7499ce9c8f4ff47be5dd5308ab54cc710de751e1","0xbc94aedd2a0a986476b89e072b05e0df117a3f8b","0xc319755dff1601b3d0520b421a281b11bf22e80f","0x8df80089b7ab1646db211d43949ecdfc94582011","0x0066f3791bd9d5a25d88f978dd8e1006445fe0d6","0x377ec7c9ae5a0787f384668788a1654249059dd6","0x3ec82c07981d6d213da9bd35a0ba4cd324fea438","0x9606ec131eec0f84c95d82c9a63959f2331cf2ac","0x936c9a1b8f88bfdbd5066ad08e5d773bc82eb15f","0x8b9d7d609a83b2f69d2135786a7d230043af7283","0x7dee7de9814ed6c1e20b3e4e2fa9b1b96e15fde1"],Qo={getProtocolsState:(e,t)=>{const n={name:"iZUMi finance",id:"izumi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://izumi.finance/home"};return e.forEach(r=>{if(pn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,pn).days,n}},hn=["0xfd54762d435a490405dda0fbc92b7168934e8525","0x852639ee9dd090d30271832332501e87d287106c","0x77ee88b1c9cce741ec35553730eb1f19cd45a379","0x39e098a153ad69834a9dac32f0fca92066ad03f4"],ea={getProtocolsState:(e,t)=>{const n={name:"Maverick",id:"maverick",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.mav.xyz/"};return e.forEach(r=>{if(hn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,hn).days,n}},vn="0x8b791913eb07c32779a16750e3868aa8495f5964",bn=["0xdfaab828f5f515e104baaba4d8d554da9096f0e4","0xb85feb6af3412d690dfda280b73eaed73a2315bc"],ta={getProtocolsState:(e,t)=>{const n={name:"Mute.io",id:"muteio",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://mute.io/"};return e.forEach(r=>{if(vn.includes(r.to.toLowerCase())||bn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,bn.concat([vn])).days,n}},yn=["0x84c18204c30da662562b7a2c79397c9e05f942f0","0xca806b267fc0c1c12edbf77a2e5bca5939c7d953","0xaa08a6d7b10724d03b8f4857d4fa14e7f92814e3","0x10c8044ae3f2b1c7decb439ff2dc1164d750c39d","0xe676b11421d68a28ba50920f2841183af93067a2","0x6219f06135b79705d34f5261852e9f6b98821e1f"],na={getProtocolsState:(e,t)=>{const n={name:"Onchain Trade",id:"onchaintrade",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://onchain.trade/"};return e.forEach(r=>{if(yn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,yn).days,n}},Nt=["0xe4edb277e41dc89ab076a1f049f4a3efa700bce8","0x80c67432656d59144ceff962e8faf8926599bcf8","0xee73323912a4e3772b74ed0ca1595a152b0ef282","0x0a88BC5c32b684D467b43C06D9e0899EfEAF59Df"],ra={getProtocolsState:(e,t)=>{const n={name:"Orbiter Finance",id:"orbiter",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://orbiter.finance/"};return e.forEach(r=>{if(Nt.includes(r.to.toLowerCase())||Nt.includes(r.from.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,Nt).days,n}},wn=["0xefde2aefe307a7362c7e0e3be019d1491dc7e163","0xba5f1898f3af43e30b552cac559f11f5d5a2fd1e","0xf9895dcb26c60743fce3ae54f506c47b763693bb","0xbbca935fb05d8671b8875293c2d82df73105ac60","0xc8db02c5900de3ed03139e9ec62a84b2f5e06d7f","0xc2e9dfb2fded2139b0b60c6781b4c648f1385c16","0x0ed4a1c66fcdf17341177422e73ca919284e040c","0x015d01187a77055fadb96c63a9de9f8981e3d0f5","0x9eb48ce91a77ff37f2edd032c90d7ec6a953b4fd","0x1f79cce5b8876a07541900e681b31a8e51766b5a","0xf77ded0ae91c41c432555beb25da2a6658338e5a","0xcc8b6c37fb97bdc774f0ea7f8b047e8ee057458c","0xc05c6a229c6ed34b9d31c88421d70ef71fbaabcf","0xf35eb225803ccf6ffb64be531bb91132a9229196","0x277e57e33c92c7f145832274384eeef35828db3d","0x2dddd703578d1f5bd1fad113c9e12f0c416305d5","0xd23432901c0754e28999661f31ab4aa3633ec2ed","0x747cc81b6c2b4afe13be59d31591d4229854b826","0xa0c13b5eca719be98ef27d0c4111cb5abbe97731","0x824422bd3ba030ca9ca5bcad26dfd4b45409849d","0xd2589f416c9412572df8d94fa1d58073c9f8f3bf","0x7bd375b95a1dbcbddb1e8219a01c550b21ed6ea2","0x5b91962f5eca75e6558e4d32df69b30f75cc6fe5","0x901b51b9a4214990ac6f0fd50a45df1573b7a51a"],oa={getProtocolsState:(e,t)=>{const n={name:"Rollup Finance",id:"rollup",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://rollup.finance/"};return e.forEach(r=>{if(wn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,wn).days,n}},xn=["0x0700fb51560cfc8f896b2c812499d17c5b0bf6a7","0xe8826fc3ce6e74932144dbc2b369e7b52e88193a","0x7cf85f98c0339559eab22deea1e018721e800add","0xb376fceacd9fef24a342645cbf72a4c439ea0614","0xacf5a67f2fcfeda3946ccb1ad9d16d2eb65c3c96","0x4ad9ee1698b6d521ebb2883dd9fc3655c7553561","0x00f093ff2bca9da894396336286c7c5bd2310ca5","0x307baa142ba2bfa4a3059efb631899c992a193ee","0x77d807b74d54b81a87a5769176bc7719f676c8ce","0xbe7d1fd1f6748bbdefc4fbacafbb11c6fc506d1d"],aa={getProtocolsState:(e,t)=>{const n={name:"SpaceFi",id:"spacefi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://spacefi.io/"};return e.forEach(r=>{if(xn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,xn).days,n}},Sn=["0x1bdb8250eaf3c596441e6c3417c9d5195d6c85b9"],ia={getProtocolsState:(e,t)=>{const n={name:"Starmaker",id:"starmaker",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://starmaker.exchange/"};return e.forEach(r=>{if(Sn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,Sn).days,n}},Cn="0xd999e16e68476bc749a28fc14a0c3b6d7073f50c",kn=["0xcd52cbc975fbb802f82a1f92112b1250b5a997df"],sa={getProtocolsState:(e,t)=>{const n={name:"Velocore",id:"velocore",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://velocore.xyz/"};return e.forEach(r=>{if(Cn.includes(r.to.toLowerCase())||kn.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,kn.concat([Cn])).days,n}},ca={getProtocolsState:(e,t)=>{const n={name:"zkSync Era Portal",id:"zksynceraportal",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://portal.zksync.io/bridge"};return e.forEach(r=>{if(r.to.toLowerCase()==="0x000000000000000000000000000000000000800a"&&r.data.startsWith("0x51cff8d9")||r.to.toLowerCase()===t.toLowerCase()&&r.isL1Originated){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,["0x000000000000000000000000000000000000800a"]).days,n}},zt=["0xa531ece441138d8ce52642ad497059f2a79fd96f"],la={getProtocolsState:(e,t)=>{const n={name:"zkSync ID",id:"zksyncid",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://www.zksyncid.xyz/"};return e.forEach(r=>{if(zt.includes(r.to.toLowerCase())||zt.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,zt).days,n}},An=["0xae23b6e7f91ddebd3b70d74d20583e3e674bd94f"],da={getProtocolsState:(e,t)=>{const n={name:"zkSync Name Service",id:"zksyncnameservice",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.zkns.domains/"};return e.forEach(r=>{if(An.includes(r.to.toLowerCase())){n.lastActivity===""&&(n.lastActivity=r.receivedAt),new Date(n.lastActivity)<new Date(r.receivedAt)&&(n.lastActivity=r.receivedAt),n.interactions+=1;const o=r.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(o.length===0)return;n.volume+=parseInt(o[0].amount)*10**-o[0].token.decimals*o[0].token.price}}),n.activeDays=me(t,e,n.id,An).days,n}},ua=async(e,t)=>{const n=Jo.getProtocolsState(e,t),r=Ko.getProtocolsState(e,t),o=qo.getProtocolsState(e,t),a=Qo.getProtocolsState(e,t),i=ea.getProtocolsState(e,t),l=ta.getProtocolsState(e,t),f=na.getProtocolsState(e,t),g=ra.getProtocolsState(e,t),m=oa.getProtocolsState(e,t),p=aa.getProtocolsState(e,t),h=ia.getProtocolsState(e,t),v=sa.getProtocolsState(e,t),y=ca.getProtocolsState(e,t),C=la.getProtocolsState(e,t),b=da.getProtocolsState(e,t);return await Promise.all([n,r,o,a,i,l,f,g,m,p,h,v,y,C,b])};async function fa(e){try{let t="https://block-explorer-api.mainnet.zksync.io/address/"+e;const n=await $e.get(t);let r,o,a;return"0x000000000000000000000000000000000000800A"in n.data.balances?(o=n.data.balances["0x000000000000000000000000000000000000800A"].balance,o=(Number(o)/10**18).toFixed(3)):o=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in n.data.balances?(a=n.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,a=(Number(a)/10**6).toFixed(2)):a=0,r=n.data.sealedNonce,{zks2_balance:o,zks2_tx_amount:r,zks2_usdcBalance:a}}catch(t){return console.error(t),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}const ma=e=>{const t=(new Date().getTime()-new Date(e).getTime())/1e3;if(t<60)return Ce.t("secondsAgo",{count:Math.round(t)});const n=t/60;if(n<60)return Ce.t("minutesAgo",{count:Math.round(n)});const r=n/60;if(r<24)return Ce.t("hoursAgo",{count:Math.round(r)});const o=r/24;return Ce.t("daysAgo",{count:Math.round(o)})};async function ga(e){try{const n=(await $e.get(`https://api.zksync.io/api/v0.2/accounts/${e}/transactions`,{params:{from:"latest",limit:"25",direction:"older"}})).data;return n.result.list.length===0?Ce.t("noTransaction"):ma(n.result.list[0].createdAt)}catch(t){return console.log(t),"-"}}async function pa(e){try{let t="https://api.zksync.io/jsrpc";const n=await $e.post(t,{id:1,jsonrpc:"2.0",method:"account_info",params:[e]});let r;"ETH"in n.data.result.committed.balances?r=(n.data.result.committed.balances.ETH/10**18).toFixed(3):r=0;let o=n.data.result.committed.nonce,a=await ga(e);return{zks1_balance:r,zks1_tx_amount:o,zks1_latest_tx:a}}catch(t){return console.error(t),{zks1_balance:"-",zks1_tx_amount:"-",zks1_latest_tx:"-"}}}const ha={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function va(e,t){try{let n=ha[t];if(!n)return"Error: Invalid Network Name";let o=(await $e.post(n,{jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:1})).data.result;return(parseInt(o,16)/10**18).toFixed(3)}catch(n){return console.error(n),"Error"}}const ba={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function ya(e,t){try{let n=ba[t];if(!n)return"Error: Invalid Network Name";const o=(await $e.post(n,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[e,"latest"],id:1})).data.result;return parseInt(o,16)}catch(n){return console.error(n),"Error"}}const wa="6.3.0";function xa(e,t,n){const r=t.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const o=new Error(`invalid value for type ${t}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${n}`,o.value=e,o}function Kn(e,t,n){for(let r in t){let o=t[r];const a=n?n[r]:null;a&&xa(o,a,r),Object.defineProperty(e,r,{enumerable:!0,value:o,writable:!1})}}function Ye(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(Ye).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[e[r]&15];return n}if(typeof e=="object"&&typeof e.toJSON=="function")return Ye(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(n=>`${Ye(n)}: ${Ye(e[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Sa(e,t,n){{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Ye(n)}`);for(const a in n){const i=n[a];o.push(a+"="+Ye(i))}}o.push(`code=${t}`),o.push(`version=${wa}`),o.length&&(e+=" ("+o.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return Kn(r,{code:t}),n&&Object.assign(r,n),r}function ve(e,t,n,r){if(!e)throw Sa(t,n,r)}function se(e,t,n,r){ve(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}e.push(t)}catch{}return e},[]);function Ca(e,t,n){if(n==null&&(n=""),e!==t){let r=n,o="new";n&&(r+=".",o+=" "+n),ve(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function ka(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((e.length-2)/2);let o=2;for(let a=0;a<r.length;a++)r[a]=parseInt(e.substring(o,o+2),16),o+=2;return r}se(!1,"invalid BytesLike value",t||"value",e)}function Aa(e,t){return ka(e,t,!1)}const qn=BigInt(0),Xe=BigInt(1),Ge=9007199254740991;function jt(e,t){const n=Qn(e,"value"),r=BigInt(wt(t,"width"));if(ve(n>>r===qn,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Xe){const o=(Xe<<r)-Xe;return-((~n&o)+Xe)}return n}function In(e,t){const n=Qn(e,"value"),r=BigInt(wt(t,"bits"));return n&(Xe<<r)-Xe}function Ut(e,t){switch(typeof e){case"bigint":return e;case"number":return se(Number.isInteger(e),"underflow",t||"value",e),se(e>=-Ge&&e<=Ge,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(n){se(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}se(!1,"invalid BigNumberish value",t||"value",e)}function Qn(e,t){const n=Ut(e,t);return ve(n>=qn,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Nn="0123456789abcdef";function Ia(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Nn[n>>4],t+=Nn[n&15];return BigInt(t)}return Ut(e)}function wt(e,t){switch(typeof e){case"bigint":return se(e>=-Ge&&e<=Ge,"overflow",t||"value",e),Number(e);case"number":return se(Number.isInteger(e),"underflow",t||"value",e),se(e>=-Ge&&e<=Ge,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return wt(BigInt(e),t)}catch(n){se(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}se(!1,"invalid numeric value",t||"value",e)}const Na=BigInt(-1),we=BigInt(0),Je=BigInt(1),za=BigInt(5),We={};let qe="0000";for(;qe.length<80;)qe+=qe;function Be(e){let t=qe;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function ot(e,t,n){const r=BigInt(t.width);if(t.signed){const o=Je<<r-Je;ve(n==null||e>=-o&&e<o,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>we?e=jt(In(e,r),r):e=-jt(In(-e,r),r)}else{const o=Je<<r;ve(n==null||e>=0&&e<o,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%o+o)%o&o-Je}return e}function Et(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);se(a,"invalid fixed format","format",e),t=a[1]!=="u",n=parseInt(a[2]),r=parseInt(a[3])}}else if(e){const a=e,i=(l,f,g)=>a[l]==null?g:(se(typeof a[l]===f,"invalid fixed format ("+l+" not "+f+")","format."+l,a[l]),a[l]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}se(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),se(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const o=(t?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:t,width:n,decimals:r,name:o}}function Ea(e,t){let n="";e<we&&(n="-",e*=Na);let r=e.toString();if(t===0)return n+r;for(;r.length<=t;)r=qe+r;const o=r.length-t;for(r=r.substring(0,o)+"."+r.substring(o);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var xe,T,fe,_e,Ue,Se,Oe,it,Mt,st,Lt,ct,Rt,lt,Ft;const Le=class{constructor(t,n,r){Ae(this,_e);Ae(this,Se);Ae(this,it);Ae(this,st);Ae(this,ct);Ae(this,lt);kt(this,"format");Ae(this,xe,void 0);Ae(this,T,void 0);Ae(this,fe,void 0);kt(this,"_value");Ca(t,We,"FixedNumber"),ut(this,T,n),ut(this,xe,r);const o=Ea(n,r.decimals);Kn(this,{format:r.name,_value:o}),ut(this,fe,Be(r.decimals))}get signed(){return S(this,xe).signed}get width(){return S(this,xe).width}get decimals(){return S(this,xe).decimals}get value(){return S(this,T)}addUnsafe(t){return Z(this,it,Mt).call(this,t)}add(t){return Z(this,it,Mt).call(this,t,"add")}subUnsafe(t){return Z(this,st,Lt).call(this,t)}sub(t){return Z(this,st,Lt).call(this,t,"sub")}mulUnsafe(t){return Z(this,ct,Rt).call(this,t)}mul(t){return Z(this,ct,Rt).call(this,t,"mul")}mulSignal(t){Z(this,_e,Ue).call(this,t);const n=S(this,T)*S(t,T);return ve(n%S(this,fe)===we,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Z(this,Se,Oe).call(this,n/S(this,fe),"mulSignal")}divUnsafe(t){return Z(this,lt,Ft).call(this,t)}div(t){return Z(this,lt,Ft).call(this,t,"div")}divSignal(t){ve(S(t,T)!==we,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Z(this,_e,Ue).call(this,t);const n=S(this,T)*S(this,fe);return ve(n%S(t,T)===we,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Z(this,Se,Oe).call(this,n/S(t,T),"divSignal")}cmp(t){let n=this.value,r=t.value;const o=this.decimals-t.decimals;return o>0?r*=Be(o):o<0&&(n*=Be(-o)),n<r||n>r?-1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=S(this,T);return S(this,T)<we&&(t-=S(this,fe)-Je),t=S(this,T)/S(this,fe)*S(this,fe),Z(this,Se,Oe).call(this,t,"floor")}ceiling(){let t=S(this,T);return S(this,T)>we&&(t+=S(this,fe)-Je),t=S(this,T)/S(this,fe)*S(this,fe),Z(this,Se,Oe).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const n=this.decimals-t,r=za*Be(n-1);let o=this.value+r;const a=Be(n);return o=o/a*a,ot(o,S(this,xe),"round"),new Le(We,o,S(this,xe))}isZero(){return S(this,T)===we}isNegative(){return S(this,T)<we}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Le.fromString(this.toString(),t)}static fromValue(t,n,r){n==null&&(n=0);const o=Et(r);let a=Ut(t,"value");const i=n-o.decimals;if(i>0){const l=Be(i);ve(a%l===we,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),a/=l}else i<0&&(a*=Be(-i));return ot(a,o,"fromValue"),new Le(We,a,o)}static fromString(t,n){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);se(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const o=Et(n);let a=r[2]||"0",i=r[3]||"";for(;i.length<o.decimals;)i+=qe;ve(i.substring(o.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,o.decimals);const l=BigInt(r[1]+a+i);return ot(l,o,"fromString"),new Le(We,l,o)}static fromBytes(t,n){let r=Ia(Aa(t,"value"));const o=Et(n);return o.signed&&(r=jt(r,o.width)),ot(r,o,"fromBytes"),new Le(We,r,o)}};let Dt=Le;xe=new WeakMap,T=new WeakMap,fe=new WeakMap,_e=new WeakSet,Ue=function(t){se(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},Se=new WeakSet,Oe=function(t,n){return t=ot(t,S(this,xe),n),new Le(We,t,S(this,xe))},it=new WeakSet,Mt=function(t,n){return Z(this,_e,Ue).call(this,t),Z(this,Se,Oe).call(this,S(this,T)+S(t,T),n)},st=new WeakSet,Lt=function(t,n){return Z(this,_e,Ue).call(this,t),Z(this,Se,Oe).call(this,S(this,T)-S(t,T),n)},ct=new WeakSet,Rt=function(t,n){return Z(this,_e,Ue).call(this,t),Z(this,Se,Oe).call(this,S(this,T)*S(t,T)/S(this,fe),n)},lt=new WeakSet,Ft=function(t,n){return ve(S(t,T)!==we,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Z(this,_e,Ue).call(this,t),Z(this,Se,Oe).call(this,S(this,T)*S(this,fe)/S(t,T),n)};const Pa=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Oa(e,t){let n=18;if(typeof t=="string"){const r=Pa.indexOf(t);se(r>=0,"invalid unit","unit",t),n=3*r}else t!=null&&(n=wt(t,"unit"));return Dt.fromValue(e,n,{decimals:n}).toString()}function zn(e){return Oa(e,18)}const _a=(e,t)=>{let n=0,r=0,o=0,a=0;return e.forEach(i=>{const l=i.from,f=i.to,g=i.isL1Originated;if(l.toLowerCase()===t.toLowerCase()){if(g){n++;const m=zn(i.value);r+=parseFloat(m)}if(f.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){o++;const m=zn(i.value);a+=parseFloat(m)}}}),{l1Tol2Times:n,l1Tol2Amount:r.toFixed(3),l2Tol1Times:o,l2Tol1Amount:a.toFixed(3)}},ft=async e=>{const t=await Uo(e),n=await Ho(t),r=Zo(t),o=await Xo(e,t),a=await ua(t,e),i=await fa(e),l=await pa(e),f=await va(e,"ethereum"),g=await ya(e,"ethereum"),m=_a(t,e),p={totalFee:n,totalExchangeAmount:r,...o,protocol:[...a],...i,...l,eth_balance:f,eth_tx_amount:g,...m};return console.log("result",p),p},$a=e=>{const{t}=Ln(),n=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:i=>d.jsx("div",{style:{width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(jo,{src:`/ecosystem/${i}`,alt:"logo",style:{width:"100%",height:"100%",objectFit:"contain"}})})},{title:t("protocol"),dataIndex:"name",key:"name",align:"center"},{title:t("category"),dataIndex:"category",key:"category",align:"center",filters:[{text:"DEX",value:"DEX"}],onFilter:(i,l)=>l.category===i},{title:t("link"),dataIndex:"url",key:"url",align:"center",render:i=>d.jsx(Kt,{title:t("tip"),children:d.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:i})})},{title:t("intro"),dataIndex:"description",key:"description",align:"center",render:i=>d.jsx(Kt,{title:i,children:d.jsx("span",{children:i.length>30?`${i.substring(0,30)}...`:i})})}],r=[{key:"1",logo:"izi.png",name:"iziswap",category:"DEX",url:"https://zksync.izumi.finance/swap",description:"izumi_Finance是专注流动性的多链DeFi协议，刚刚完成了新一轮22M的融资，iZiSwap上线zkSync一个月，TVL便突破40M，目前是zksync第二的dex,未来会把zksync给予项目方潜在空投的50%，用来回馈给用户。"},{key:"2",logo:"portal.png",name:"zkSync Portal",category:"Portal",url:"https://portal.zksync.io/",description:"zkSync官方钱包门户。"},{key:"3",logo:"portal.png",name:"zkSync Bridge",category:"Bridge",url:"https://bridge.zksync.io/",description:"zkSync官方桥。"},{key:"4",logo:"meson.png",name:"meson",category:"Bridge",url:"https://meson.fi/?from=bitboxtools",description:"Meson是一个领先的稳定币跨链协议，它允许稳定币在不同的区块链之间进行跨链交易。该协议支持 USDC、USDT 和 BUSD 等主流稳定币在 zkSync 和其他20条主流公链之间的跨链操作。"}],{open:o,onCancel:a}=e;return d.jsxs(gt,{title:d.jsxs(d.Fragment,{children:[t("ecosystem"),d.jsxs(Dn,{color:"red",style:{marginLeft:"8px"},children:[" ",t("tip2")," "]})]}),open:o,onCancel:a,footer:[d.jsx(Ie,{onClick:a,type:"primary",children:t("close")},"close")],width:1200,centered:!0,closable:!1,bodyStyle:{height:"500px",overflow:"auto"},children:[d.jsx("div",{children:d.jsx(ue,{columns:n,pagination:!1,size:"small",dataSource:r})}),d.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:d.jsx("p",{children:"Wait more..."})})]})},{Content:Ta}=Pr,{TextArea:ja}=mt;function Da(){const{t:e}=Ln(),[t,n]=c.useState(0),[r,o]=c.useState(0),[a,i]=c.useState(!1),[l,f]=c.useState([]),[g,m]=c.useState(!0),[p,h]=c.useState(!1),[v,y]=c.useState(!1),[C]=Me.useForm();Me.useForm();const[b,k]=c.useState([]),[A]=Me.useForm(),[I,E]=c.useState(!1),[x,z]=c.useState(!1),[ie,ne]=c.useState(!1),[j,K]=c.useState(null),[V,q]=c.useState(null),F=async()=>{try{const s=await A.validateFields();if(s.address.length!==42){Fe.error({message:e("zk_error"),description:e("zk_error_msg")},2);return}E(!1);const u=l.findIndex(w=>w.address===s.address);if(u!==-1){f(l.map((O,R)=>R===u?{...O,name:s.name}:O));const w=[...l],L=await ft(s.address);w[u]={...w[u],...L},f(w),localStorage.setItem("addresses",JSON.stringify(l))}else{const w={key:l.length.toString(),name:s.name,address:s.address,eth_balance:null,eth_tx_amount:null,zks2_balance:null,zks2_tx_amount:null,zks2_usdcBalance:null,zks2_last_tx:null,zks1_balance:null,zks1_tx_amount:null,dayActivity:null,weekActivity:null,monthActivity:null,l1Tol2Times:null,l1Tol2Amount:null,l2Tol1Times:null,l2Tol1Amount:null,contractActivity:null,totalFee:null,totalExchangeAmount:null,protocol:[]},L=[...l,w];f(L),ft(s.address).then(O=>{console.log(O);const R={...w,...O},ae=[...l,R];f(ae),localStorage.setItem("addresses",JSON.stringify(ae))})}}catch(s){Fe.error({message:e("zk_error"),description:s.message},2)}finally{A.resetFields()}},D=async()=>{if(!b.length){Fe.error({message:e("zk_error"),description:e("zk_error_msg3")},2);return}z(!0);try{let u=0,w=[];const L=[...l],O=()=>{for(;u<5&&w.length>0;){const R=w.shift();u+=1,R().finally(()=>{u-=1,O()})}};for(let R of b){const ae=L.findIndex(_=>_.key===R);if(ae!==-1){const _=L[ae];w.push(()=>{const ge=Object.keys(_);for(let G of ge)G!=="name"&&G!=="address"&&G!=="key"&&(_[G]=null);return ft(_.address).then(G=>{L[ae]={..._,...G},f([...L]),localStorage.setItem("addresses",JSON.stringify(L))})})}O()}for(;u>0||w.length>0;)await new Promise(R=>setTimeout(R,100))}catch(s){Fe.error({message:e("zk_error"),description:s.message},2)}finally{z(!1),k([]),en.success(e("zk_message"))}},W=async()=>{try{i(!0),h(!1);const u=(await C.validateFields()).addresses.split(`
`);o(u.length);const w=[...l],L=5;let O=0,R=[];n(0);const ae=()=>{for(;R.length>0&&O<L;){const _=R.shift();O+=1,_().finally(()=>{O-=1,ae()})}};for(let _ of u){if(_=_.trim(),_.length!==42){Fe.error({message:e("zk_error"),description:e("zk_error_msg")});continue}let ge=()=>new Promise((pe,He)=>{n(M=>M+1),pe()});const G=w.findIndex(pe=>pe.address===_),Te=G!==-1?w[G]:{key:w.length.toString(),address:_,eth_balance:null,eth_tx_amount:null,zks2_balance:null,zks2_tx_amount:null,zks2_usdcBalance:null,zks1_balance:null,zks1_tx_amount:null,zks2_last_tx:null,dayActivity:null,weekActivity:null,monthActivity:null,l1Tol2Times:null,l1Tol2Amount:null,l2Tol1Times:null,l2Tol1Amount:null,contractActivity:null,totalFee:null,totalExchangeAmount:null,protocol:[]};G===-1&&w.push(Te),R.push(()=>ge().then(()=>ft(_).then(pe=>{const He={...Te,...pe},M=w.findIndex(N=>N.address===_);M!==-1&&(w[M]=He)}))),ae()}for(;O>0||R.length>0;)await new Promise(_=>setTimeout(_,100));f(w),localStorage.setItem("addresses",JSON.stringify(w))}catch(s){Fe.error({message:e("zk_error"),description:s.message})}finally{i(!1),n(0),C.resetFields(),k([]),en.success(e("zk_message_batch_add_success"))}},$=()=>{m(!g)},B=()=>g?d.jsx(vr,{}):d.jsx(Pn,{}),U=()=>{E(!0)},ce=()=>{h(!0)},Y=()=>{mr(l,"walletInfo")};c.useEffect(()=>{ne(!0);const s=localStorage.getItem("addresses");setTimeout(()=>{ne(!1)},500),s&&f(JSON.parse(s))},[]);const P=()=>{E(!1)},le=s=>{f(l.filter(u=>u.key!==s)),localStorage.setItem("addresses",JSON.stringify(l.filter(u=>u.key!==s)))},H=()=>{if(!b.length){Fe.error({message:e("zk_error"),description:e("zk_error_msg2")},2);return}console.log(b);const s=l.filter(u=>!b.includes(u.key));console.log(s),f(l.filter(u=>!b.includes(u.key))),localStorage.setItem("addresses",JSON.stringify(l.filter(u=>!b.includes(u.key)))),k([])},re={selectedRowKeys:b,onChange:s=>{k(s)}},Q=()=>{h(!1)},[ee,be]=c.useState(null),oe=[{title:"#",key:"index",align:"center",render:(s,u,w)=>w+1},{title:e("notes"),dataIndex:"name",key:"name",align:"center",render:(s,u)=>u.key===ee?d.jsx(mt,{placeholder:e("notes_placeholder"),defaultValue:s,onPressEnter:L=>{u.name=L.target.value,f([...l]),localStorage.setItem("addresses",JSON.stringify(l)),be(null)}}):d.jsxs(d.Fragment,{children:[d.jsx(Dn,{color:"blue",children:s}),d.jsx(Ie,{shape:"circle",icon:d.jsx(kr,{}),size:"small",onClick:()=>be(u.key)})]})},{title:d.jsxs("span",{children:[e("address"),d.jsx("span",{onClick:$,style:{marginLeft:8,cursor:"pointer"},children:B()})]}),dataIndex:"address",key:"address",align:"center",render:(s,u)=>g?s.slice(0,4)+"***"+s.slice(-4):s},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:"zks1_balance",key:"zks1_balance",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"Tx",dataIndex:"zks1_tx_amount",key:"zks1_tx_amount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s,sorter:(s,u)=>s.zks1_tx_amount-u.zks1_tx_amount},{title:e("last_tx"),dataIndex:"zks1_latest_tx",key:"zks1_latest_tx",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:"zks2_balance",key:"zks2_balance",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"USDC",dataIndex:"zks2_usdcBalance",key:"zks2_usdcBalance",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"Tx",dataIndex:"zks2_tx_amount",key:"zks2_tx_amount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s,sorter:(s,u)=>s.zks2_tx_amount-u.zks2_tx_amount},{title:e("last_tx"),dataIndex:"zks2_last_tx",key:"zks2_last_tx",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):d.jsx("a",{href:"https://explorer.zksync.io/address/"+u.address,target:"_blank",children:s})},{title:e("official_bridge_tx"),key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:"l1Tol2Times",key:"l1Tol2Times",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"L2->L1",dataIndex:"l2Tol1Times",key:"l2Tol1Times",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s}]},{title:e("official_bridge_amount"),key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:"l1Tol2Amount",key:"l1Tol2Amount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:"L2->L1",dataIndex:"l2Tol1Amount",key:"l2Tol1Amount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s}]},{title:e("activities"),key:"activity_stats_group",children:[{title:e("day"),dataIndex:"dayActivity",key:"dayActivity",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:e("week"),dataIndex:"weekActivity",key:"weekActivity",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:e("month"),dataIndex:"monthActivity",key:"monthActivity",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:e("contract"),dataIndex:"contractActivity",key:"contractActivity",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s},{title:e("amount"),dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s,sorter:(s,u)=>s.totalExchangeAmount-u.totalExchangeAmount},{title:e("fee"),dataIndex:"totalFee",key:"totalFee",align:"center",render:(s,u)=>s===null?d.jsx(J,{}):s}]}]},{title:e("operation"),key:"action",align:"center",render:(s,u)=>d.jsxs(Er,{size:"small",children:[d.jsx(qt,{title:e("zk_message_confirm_delete"),onConfirm:()=>le(u.key),children:d.jsx(Ie,{icon:d.jsx(Qt,{})})}),d.jsx(Ie,{icon:d.jsx(pr,{}),onClick:()=>K(u.key)})]})}];c.useEffect(()=>{let s,u;if(j!==null){for(let w=0;w<l.length;w++)if(l[w].key===j){u=l[w].protocol||[],s=l[w].address,q({address:s,protocols:u});break}console.log(V)}},[j]);const de=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:(s,u)=>d.jsx("img",{src:"/protocol/"+u.id+".png",style:{width:"20px",height:"20px"},alt:u.id})},{title:e("protocol"),dataIndex:"name",key:"name",align:"center",render:(s,u)=>d.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",children:s})},{title:"tx",dataIndex:"interactions",key:"interactions",sorter:(s,u)=>s.volume-u.volume,align:"center"},{title:e("last_tx"),dataIndex:"lastActivity",key:"lastActivity",align:"center",render:(s,u)=>s===""?"无":new Date(s).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})},{title:e("amount"),dataIndex:"volume",key:"volume",align:"center",sorter:(s,u)=>s.volume-u.volume,defaultSortOrder:"descend",render:(s,u)=>Number(s).toFixed(2)}];return d.jsx("div",{children:d.jsxs(Ta,{children:[d.jsx($a,{open:v,onCancel:()=>y(!1)}),d.jsx(gt,{title:V&&V.address+"  "+e("address_detail"),open:j!==null,onCancel:()=>K(null),footer:null,width:1e3,centered:!0,bodyStyle:{height:"500px",overflow:"auto"},children:d.jsx("div",{children:V&&d.jsx(ue,{columns:de,dataSource:V.protocols,pagination:!1,defaultSortOrder:"descend",size:"small"})})}),d.jsx(gt,{title:e("batch_add_address"),open:p,onOk:W,onCancel:Q,okButtonProps:{loading:x},okText:"OK",cancelText:"Cancel",children:d.jsx(Me,{form:C,layout:"vertical",children:d.jsx(Me.Item,{label:e("address"),name:"addresses",rules:[{required:!0}],children:d.jsx(ja,{placeholder:e("zk_msg"),style:{width:"500px",height:"200px"}})})})}),d.jsx(gt,{title:e("add_address"),open:I,onOk:F,onCancel:P,okButtonProps:{loading:x},okText:e("add_address"),cancelText:e("cancel"),children:d.jsxs(Me,{form:A,layout:"vertical",children:[d.jsx(Me.Item,{label:e("address"),name:"address",rules:[{required:!0}],children:d.jsx(mt,{placeholder:e("zk_msg2")})}),d.jsx(Me.Item,{label:e("notes"),name:"name",children:d.jsx(mt,{placeholder:e("notes_placeholder")})})]})}),d.jsx("div",{style:{marginBottom:"50px"},children:d.jsx(J,{spinning:ie,size:"large",children:d.jsx(ue,{rowKey:s=>s.key,rowSelection:re,dataSource:l,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:oe,summary:s=>{let u=0,w=0,L=0,O=0,R=0;s.forEach(({eth_balance:_,zks1_balance:ge,zks2_balance:G,zks2_usdcBalance:Te,totalFee:pe})=>{u+=Number(_),w+=Number(ge),L+=Number(G),O+=Number(Te),R+=Number(pe)});const ae=Array(10).fill().map((_,ge)=>d.jsx(ue.Summary.Cell,{index:ge+6}));return d.jsx(d.Fragment,{children:d.jsxs(ue.Summary.Row,{children:[d.jsx(ue.Summary.Cell,{index:0,colSpan:4,children:e("total")}),d.jsx(ue.Summary.Cell,{index:5,children:u.toFixed(3)}),d.jsx(ue.Summary.Cell,{index:6}),d.jsx(ue.Summary.Cell,{index:7,children:w.toFixed(3)}),d.jsx(ue.Summary.Cell,{index:8}),d.jsx(ue.Summary.Cell,{index:9}),d.jsx(ue.Summary.Cell,{index:10,children:L.toFixed(3)}),d.jsx(ue.Summary.Cell,{index:9,children:O.toFixed(2)}),ae,d.jsx(ue.Summary.Cell,{index:20}),d.jsx(ue.Summary.Cell,{index:21,children:R.toFixed(2)})]})})}})})}),d.jsx("div",{className:"zks_footer",children:d.jsx(gr,{size:"small",style:{width:"100%"},children:d.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[d.jsx(Ie,{type:"primary",onClick:()=>{y(!0)},size:"large",style:{width:"20%"},icon:d.jsx(Lo,{}),children:d.jsx(Qr,{count:"New",offset:[30,0],children:d.jsx("span",{style:{color:"white"},children:e("ecosystem")})})}),d.jsx(Ie,{type:"primary",onClick:U,size:"large",style:{width:"20%"},icon:d.jsx(hr,{}),children:e("add_address")}),d.jsx(Ie,{type:"primary",onClick:ce,size:"large",style:{width:"20%"},icon:d.jsx(dr,{}),loading:a,children:a?e("adding")+`:(${t}/${r})`:e("batch_add_address")}),d.jsx(Ie,{type:"primary",onClick:D,loading:x,size:"large",style:{width:"20%"},icon:d.jsx(ur,{}),children:e(x?"refreshing":"refresh_selected_address")}),d.jsx(qt,{title:e("confirm_delete ")+b.length+e(" address_count")+"?",onConfirm:H,children:d.jsx(Ie,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:d.jsx(Qt,{}),children:e("delete_selected_address")})}),d.jsx(Ie,{type:"primary",icon:d.jsx(fr,{}),size:"large",style:{width:"8%"},onClick:Y})]})})})]})})}const Ya=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"}));export{Da as Z,Ro as g,Ya as i,Ln as u};
